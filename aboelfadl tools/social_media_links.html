<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ูุงุชุณุงุจ ููุงุณูุฌุฑ ุชูููุฌุฑุงู ุจุฑูุฏ ุจูุช</title>
<style>
  body {
    background: #121212;
    color: #d4af37;
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    padding: 20px;
  }
  .container {
    max-width: 480px;
    margin: auto;
    background: #1e1e1e;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 0 15px #d4af37aa;
  }
  label {
    display: block;
    margin-bottom: 6px;
    font-weight: bold;
  }
  input[type="text"], select, textarea {
    width: 100%;
    padding: 10px;
    margin-bottom: 15px;
    border: 1.5px solid #d4af37;
    border-radius: 6px;
    background: #121212;
    color: #d4af37;
    font-size: 1rem;
    resize: vertical;
  }
  /* ุณุชุงูู ุฎุงุต ูููุงุฆูุฉ ุงูููุณุฏูุฉ ููุฎุฏูุงุช */
  #serviceSelector {
    width: 100%;
    padding: 10px;
    margin-bottom: 20px; /* ูุณุงูุฉ ุฃูุจุฑ ุจุนุฏ ุงููุงุฆูุฉ */
    border: 2px solid #d4af37;
    border-radius: 8px;
    background: #1e1e1e;
    color: #d4af37;
    font-size: 1.1rem;
    cursor: pointer;
    -webkit-appearance: none; /* ุฅุฒุงูุฉ ุงูุณุชุงูู ุงูุงูุชุฑุงุถู ูู ุงูููุจ ููุช */
    -moz-appearance: none;    /* ุฅุฒุงูุฉ ุงูุณุชุงูู ุงูุงูุชุฑุงุถู ูู ููุฒููุง */
    appearance: none;         /* ุฅุฒุงูุฉ ุงูุณุชุงูู ุงูุงูุชุฑุงุถู */
    background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20256%20256%22%3E%3Cpath%20fill%3D%22%23d4af37%22%20d%3D%22M208.5%2C74.5L128%2C155L47.5%2C74.5Z%22%2F%3E%3C%2Fsvg%3E'); /* ุณูู ูุฎุตุต */
    background-repeat: no-repeat;
    background-position: left 10px center;
    background-size: 16px;
    padding-right: 30px; /* ูุณุงูุฉ ููุณูู */
  }
  #serviceSelector:focus {
    outline: none;
    box-shadow: 0 0 5px #d4af37;
  }
  button {
    background: #d4af37;
    color: #121212;
    border: none;
    padding: 12px 20px;
    font-weight: bold;
    font-size: 1rem;
    border-radius: 6px;
    cursor: pointer;
    margin-right: 10px;
    transition: background 0.3s ease;
  }
  button:hover {
    background: #b08e21;
  }
  .flex-row {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    flex-wrap: wrap;
  }
  .flex-row > * {
    margin-bottom: 10px;
  }
  .icon {
    width: 26px;
    height: 26px;
    vertical-align: middle;
    margin-left: 8px;
    filter: drop-shadow(0 0 1px #d4af37);
  }
  #iframeContainer {
    margin-top: 15px;
    display: none;
  }
  iframe {
    width: 100%;
    height: 350px;
    border: none;
    border-radius: 10px;
  }
  /* ุณุชุงูู ุญููู ุงูููููุฉ ุงูุฌุฏูุฏ */
  .footer-copyright {
    margin-top: 30px;
    padding: 15px;
    border: 2px solid #d4af37; /* ุฅุทุงุฑ ุฐูุจู */
    border-radius: 10px;
    text-align: center;
    background: #1e1e1e; /* ููุณ ุฎูููุฉ ุงูู container */
    box-shadow: 0 0 10px #d4af37aa; /* ุธู ุฐูุจู ุฎููู */
  }
  .footer-copyright a {
    color: #d4af37; /* ููู ุงููุต ุฐูุจู */
    text-decoration: none; /* ุฅุฒุงูุฉ ุงูุฎุท ุงูุณููู */
    font-weight: bold;
    transition: color 0.3s ease;
  }
  .footer-copyright a:hover {
    color: #f0d363; /* ููู ุฃูุชุญ ุนูุฏ ุงูุชุญููู */
  }
</style>
</head>
<body>
<div class="container">
  <label for="serviceSelector">ุงุฎุชุฑ ุฎุฏูุฉ ุงูุชูุงุตู:</label>
  <select id="serviceSelector" aria-label="ุงุฎุชุฑ ุฎุฏูุฉ ุงูุชูุงุตู">
    <option value="whatsappSection">ูุงุชุณุงุจ</option>
    <option value="messengerSection">ูุงุณูุฌุฑ</option>
    <option value="telegramSection">ุชูููุฌุฑุงู</option>
    <option value="emailSection">ุจุฑูุฏ ุฅููุชุฑููู</option>
  </select>

  <div id="whatsappSection">
    <label for="countryCode">ููุฏ ุงูุฏููุฉ (ูุซูุงู: 20 ููุตุฑ)</label>
    <select id="countryCode" aria-label="ุงุฎุชุฑ ููุฏ ุงูุฏููุฉ">
      <option value="20">+20 ูุตุฑ</option>
      <option value="966">+966 ุงูุณุนูุฏูุฉ</option>
      <option value="1">+1 ุฃูุฑููุง</option>
      <option value="971">+971 ุงูุฅูุงุฑุงุช</option>
      <option value="44">+44 ุจุฑูุทุงููุง</option>
    </select>

    <label for="whatsappNumber">ุฑูู ุงููุงุชู (ุจุฏูู ุงูุตูุฑ)</label>
    <input type="text" id="whatsappNumber" placeholder="ูุซูุงู: 1093650351" aria-describedby="whatsappHelp" />

    <label for="whatsappMessage">ูุต ุงูุฑุณุงูุฉ (ุงุฎุชูุงุฑู)</label>
    <textarea id="whatsappMessage" placeholder="ุงูุชุจ ุฑุณุงูุชู ููุง"></textarea>

    <div class="flex-row">
      <button id="generateWhatsapp">ุฅูุดุงุก ุฑุงุจุท ูุงุชุณุงุจ</button>
      <button id="copyWhatsapp" disabled>ูุณุฎ ุงูุฑุงุจุท</button>
      <button id="openWhatsapp" disabled>ูุชุญ ุงููุญุงุฏุซุฉ</button>
      <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="ูุงุชุณุงุจ" class="icon" />
    </div>

    <p id="whatsappLink" style="word-break: break-all; margin-top: 10px; color: #f0d363;"></p>

    <div style="margin-top: 20px; text-align: center;">
      <label style="margin-bottom: 10px;">ุฑูุฒ QR ููุฑุงุจุท:</label>
      <img id="whatsappQrCode" src="" alt="ุฑูุฒ QR" style="max-width: 200px; height: auto; display: none; border: 1px solid #d4af37; border-radius: 5px;"/>
      <br>
      <button id="downloadWhatsappQr" style="margin-top: 10px; display: none;">ุชุญููู ุฑูุฒ QR</button>
    </div>
  </div>

  <div id="messengerSection" style="display:none;">
    <label for="messengerLink">ุฑุงุจุท ููู ููุณุจูู ุงูุดุฎุตู ุงููุงูู</label>
    <input type="text" id="messengerLink" placeholder="ูุซูุงู: https://www.facebook.com/share/12JwWtS736Y/?mibextid=qi2Omg" aria-describedby="messengerHelp" />

    <label for="messengerMessage">ูุต ุงูุฑุณุงูุฉ (ุงุฎุชูุงุฑู)</label>
    <textarea id="messengerMessage" placeholder="ุงูุชุจ ุฑุณุงูุชู ููุง"></textarea>

    <div class="flex-row">
      <button id="generateMessenger">ุฅูุดุงุก ุฑุงุจุท ูุงุณูุฌุฑ</button>
      <button id="copyMessenger" disabled>ูุณุฎ ุงูุฑุงุจุท</button>
      <button id="openMessenger" disabled>ูุชุญ ุงููุญุงุฏุซุฉ</button>
      <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Facebook_Messenger_logo_2020.svg" alt="ูุงุณูุฌุฑ" class="icon" />
    </div>

    <p id="messengerResult" style="word-break: break-all; margin-top: 10px; color: #f0d363;"></p>

    <div id="iframeContainer">
      <iframe id="messengerIframe" sandbox="allow-scripts allow-same-origin"></iframe>
    </div>

    <div style="margin-top: 20px; text-align: center;">
      <label style="margin-bottom: 10px;">ุฑูุฒ QR ููุฑุงุจุท:</label>
      <img id="messengerQrCode" src="" alt="ุฑูุฒ QR" style="max-width: 200px; height: auto; display: none; border: 1px solid #d4af37; border-radius: 5px;"/>
      <br>
      <button id="downloadMessengerQr" style="margin-top: 10px; display: none;">ุชุญููู ุฑูุฒ QR</button>
    </div>
  </div>

  <div id="telegramSection" style="display:none;">
    <label for="telegramCountryCode">ููุฏ ุงูุฏููุฉ (ูุซูุงู: 20 ููุตุฑ)</label>
    <select id="telegramCountryCode" aria-label="ุงุฎุชุฑ ููุฏ ุงูุฏููุฉ ูุชููุฌุฑุงู">
      <option value="20">+20 ูุตุฑ</option>
      <option value="966">+966 ุงูุณุนูุฏูุฉ</option>
      <option value="1">+1 ุฃูุฑููุง</option>
      <option value="971">+971 ุงูุฅูุงุฑุงุช</option>
      <option value="44">+44 ุจุฑูุทุงููุง</option>
      </select>

    <label for="telegramNumber">ุฑูู ุงููุงุชู (ุจุฏูู ุงูุตูุฑ)</label>
    <input type="text" id="telegramNumber" placeholder="ูุซูุงู: 1234567890" aria-describedby="telegramHelp" />

    <label for="telegramMessage">ูุต ุงูุฑุณุงูุฉ (ุงุฎุชูุงุฑู)</label>
    <textarea id="telegramMessage" placeholder="ุงูุชุจ ุฑุณุงูุชู ููุง"></textarea>

    <div class="flex-row">
      <button id="generateTelegram">ุฅูุดุงุก ุฑุงุจุท ุชูููุฌุฑุงู</button>
      <button id="copyTelegram" disabled>ูุณุฎ ุงูุฑุงุจุท</button>
      <button id="openTelegram" disabled>ูุชุญ ุงููุญุงุฏุซุฉ</button>
      <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="ุชูููุฌุฑุงู" class="icon" />
    </div>

    <p id="telegramLink" style="word-break: break-all; margin-top: 10px; color: #f0d363;"></p>

    <div style="margin-top: 20px; text-align: center;">
      <label style="margin-bottom: 10px;">ุฑูุฒ QR ููุฑุงุจุท:</label>
      <img id="telegramQrCode" src="" alt="ุฑูุฒ QR" style="max-width: 200px; height: auto; display: none; border: 1px solid #d4af37; border-radius: 5px;"/>
      <br>
      <button id="downloadTelegramQr" style="margin-top: 10px; display: none;">ุชุญููู ุฑูุฒ QR</button>
    </div>
  </div>

  <div id="emailSection" style="display:none;">
    <label for="emailAddress">ุนููุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
    <input type="text" id="emailAddress" placeholder="ูุซูุงู: example@domain.com" aria-describedby="emailHelp" />

    <label for="emailSubject">ุงูููุถูุน (ุงุฎุชูุงุฑู)</label>
    <input type="text" id="emailSubject" placeholder="ูุซูุงู: ุงุณุชูุณุงุฑ ุนู ุงูุฎุฏูุฉ" />

    <label for="emailBody">ูุต ุงูุฑุณุงูุฉ (ุงุฎุชูุงุฑู)</label>
    <textarea id="emailBody" placeholder="ุงูุชุจ ุฑุณุงูุชู ููุง"></textarea>

    <div class="flex-row">
      <button id="generateEmail">ุฅูุดุงุก ุฑุงุจุท ุจุฑูุฏ ุฅููุชุฑููู</button>
      <button id="copyEmail" disabled>ูุณุฎ ุงูุฑุงุจุท</button>
      <button id="openEmail" disabled>ูุชุญ ุงูุจุฑูุฏ</button>
      <img src="https://upload.wikimedia.org/wikipedia/commons/4/4e/Mail_%28iOS%29.svg" alt="ุจุฑูุฏ ุฅููุชุฑููู" class="icon" />
    </div>

    <p id="emailLink" style="word-break: break-all; margin-top: 10px; color: #f0d363;"></p>

    <div style="margin-top: 20px; text-align: center;">
      <label style="margin-bottom: 10px;">ุฑูุฒ QR ููุฑุงุจุท:</label>
      <img id="emailQrCode" src="" alt="ุฑูุฒ QR" style="max-width: 200px; height: auto; display: none; border: 1px solid #d4af37; border-radius: 5px;"/>
      <br>
      <button id="downloadEmailQr" style="margin-top: 10px; display: none;">ุชุญููู ุฑูุฒ QR</button>
    </div>
  </div>

</div>

<div class="footer-copyright">
  <a href="https://mahmoud-aboelfadl.my.canva.site" target="_blank">ุตูุนุช ูุฐุง ุงููููุน ุจูุงุณุทุฉ ๐๐๐จ๐๐ฅ๐๐๐๐ฅ</a>
</div>

<script>
  // ุนูุงุตุฑ ุงูุฃูุณุงู
  const whatsappSection = document.getElementById('whatsappSection');
  const messengerSection = document.getElementById('messengerSection');
  const telegramSection = document.getElementById('telegramSection');
  const emailSection = document.getElementById('emailSection');

  // ุฃุฒุฑุงุฑ ุงูู QR
  const whatsappQrCodeImg = document.getElementById('whatsappQrCode');
  const downloadWhatsappQrBtn = document.getElementById('downloadWhatsappQr');
  const messengerQrCodeImg = document.getElementById('messengerQrCode');
  const downloadMessengerQrBtn = document.getElementById('downloadMessengerQr');
  const telegramQrCodeImg = document.getElementById('telegramQrCode');
  const downloadTelegramQrBtn = document.getElementById('downloadTelegramQr');
  const emailQrCodeImg = document.getElementById('emailQrCode');
  const downloadEmailQrBtn = document.getElementById('downloadEmailQr');

  // ุนูุตุฑ ุงููุงุฆูุฉ ุงูููุณุฏูุฉ ููุฎุฏูุงุช
  const serviceSelector = document.getElementById('serviceSelector');

  // ุฏุงูุฉ ูุฅุธูุงุฑ ูุณู ูุงุญุฏ ูุฅุฎูุงุก ุงูุจุงูู
  function showSection(sectionIdToShow) {
    // ุฅุฎูุงุก ุฌููุน ุงูุฃูุณุงู
    document.querySelectorAll('.container > div[id$="Section"]').forEach(section => {
      section.style.display = 'none';
    });

    // ุฅุธูุงุฑ ุงููุณู ุงููุทููุจ
    document.getElementById(sectionIdToShow).style.display = 'block';

    // ุฅุฎูุงุก ุงูู QR ุนูุฏ ุงูุชุจุฏูู ุจูู ุงูุฃูุณุงู
    hideQr(whatsappQrCodeImg, downloadWhatsappQrBtn);
    hideQr(messengerQrCodeImg, downloadMessengerQrBtn);
    hideQr(telegramQrCodeImg, downloadTelegramQrBtn);
    hideQr(emailQrCodeImg, downloadEmailQrBtn);
  }

  // ุฅุถุงูุฉ Event Listener ูุชุบููุฑ ุงููุงุฆูุฉ ุงูููุณุฏูุฉ ููุฎุฏูุงุช
  serviceSelector.addEventListener('change', () => {
    const selectedSectionId = serviceSelector.value;
    showSection(selectedSectionId);
  });

  // ุฅุธูุงุฑ ุงููุณู ุงูุฃูู ุนูุฏ ุงูุชุญููู (ูุงุชุณุงุจ)
  showSection(serviceSelector.value);

  // ุฏุงูุฉ ูุณุงุนุฏุฉ ูุฅูุดุงุก ูุนุฑุถ ูุชุญููู ุงูู QR
  function generateAndDisplayQr(url, qrImgElement, downloadBtnElement, filenamePrefix) {
    const qrBaseUrl = "https://api.qrserver.com/v1/create-qr-code/";
    const size = "1000x1000"; // ุงูููุงุณ ุงููุทููุจ
    const color = "d4af37";   // ููู ุฐูุจู (ููุณ ููู ุงูู branding ุจุชุงุนู)
    const bgcolor = "121212";  // ููู ุฃุณูุฏ (ุฎูููุฉ ุณูุฏุงุก)

    // ุงูุชุฃูุฏ ูู ุฃู ุงูู URL ููุฌูุฏ ูุจู ุฅูุดุงุก ุงูู QR
    if (!url) {
      hideQr(qrImgElement, downloadBtnElement);
      return;
    }

    // ุงูุชุฃูุฏ ูู ุตูุบุฉ PNG
    const qrImageUrl = `${qrBaseUrl}?data=${encodeURIComponent(url)}&size=${size}&color=${color}&bgcolor=${bgcolor}&format=png`;

    qrImgElement.src = qrImageUrl;
    qrImgElement.style.display = 'block'; // ุฅุธูุงุฑ ุงูุตูุฑุฉ

    downloadBtnElement.style.display = 'block'; // ุฅุธูุงุฑ ุฒุฑ ุงูุชุญููู
    downloadBtnElement.onclick = () => {
      fetch(qrImageUrl) // ุฌูุจ ุจูุงูุงุช ุงูุตูุฑุฉ
        .then(response => response.blob()) // ุชุญููููุง ุฅูู Blob (ูุงุฆู ุจูุงูุงุช ุซูุงุฆูุฉ)
        .then(blob => {
          const objectUrl = URL.createObjectURL(blob); // ุฅูุดุงุก URL ูุคูุช ูููุงุฆู ุงูุซูุงุฆู
          const a = document.createElement('a');
          a.href = objectUrl;
          a.download = `${filenamePrefix}_QR.png`; // ุงุณู ุงูููู ุจุตูุบุฉ PNG
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(objectUrl); // ุฅุฒุงูุฉ ุงูู URL ุงููุคูุช ุจุนุฏ ุงูุชุญููู
        })
        .catch(e => console.error('ุฎุทุฃ ูู ุชุญููู ุฃู ุชูุฒูู ุฑูุฒ QR:', e));
    };
  }

  // ุฏุงูุฉ ูุฅุฎูุงุก ุงูู QR Code ูุฒุฑ ุงูุชุญููู
  function hideQr(qrImgElement, downloadBtnElement) {
    qrImgElement.src = '';
    qrImgElement.style.display = 'none';
    downloadBtnElement.style.display = 'none';
  }

  // ูุงุชุณุงุจ: ุฅูุดุงุก ุฑุงุจุท
  const generateWhatsappBtn = document.getElementById('generateWhatsapp');
  const copyWhatsappBtn = document.getElementById('copyWhatsapp');
  const openWhatsappBtn = document.getElementById('openWhatsapp');
  const whatsappLinkP = document.getElementById('whatsappLink');

  generateWhatsappBtn.onclick = () => {
    const code = document.getElementById('countryCode').value.trim();
    const number = document.getElementById('whatsappNumber').value.trim();
    const message = encodeURIComponent(document.getElementById('whatsappMessage').value.trim());

    if (!number.match(/^\d+$/)) {
      alert('ูุฑุฌู ุฅุฏุฎุงู ุฑูู ูุงุชู ุตุญูุญ ุจุฏูู ุฃุตูุงุฑ ุฃู ุฑููุฒ.');
      whatsappLinkP.textContent = '';
      copyWhatsappBtn.disabled = true;
      openWhatsappBtn.disabled = true;
      hideQr(whatsappQrCodeImg, downloadWhatsappQrBtn);
      return;
    }

    let url = `https://wa.me/${code}${number}`;
    if (message) url += `?text=${message}`;

    whatsappLinkP.textContent = url;
    copyWhatsappBtn.disabled = false;
    openWhatsappBtn.disabled = false;

    generateAndDisplayQr(url, whatsappQrCodeImg, downloadWhatsappQrBtn, 'whatsapp');
  };

  copyWhatsappBtn.onclick = () => {
    const text = whatsappLinkP.textContent;
    if (text) navigator.clipboard.writeText(text);
  };

  openWhatsappBtn.onclick = () => {
    const url = whatsappLinkP.textContent;
    if (url) window.open(url, '_blank');
  };

  document.getElementById('countryCode').oninput = () => hideQr(whatsappQrCodeImg, downloadWhatsappQrBtn);
  document.getElementById('whatsappNumber').oninput = () => hideQr(whatsappQrCodeImg, downloadWhatsappQrBtn);
  document.getElementById('whatsappMessage').oninput = () => hideQr(whatsappQrCodeImg, downloadWhatsappQrBtn);

  // ูุงุณูุฌุฑ: ุชูุธูู ุฑุงุจุท + ุฅูุดุงุก ุฑุงุจุท ูุญุงุฏุซุฉ
  const generateMessengerBtn = document.getElementById('generateMessenger');
  const copyMessengerBtn = document.getElementById('copyMessenger');
  const openMessengerBtn = document.getElementById('openMessenger');
  const messengerResultP = document.getElementById('messengerResult');
  const iframeContainer = document.getElementById('iframeContainer');
  const messengerIframe = document.getElementById('messengerIframe');

  function cleanFacebookLink(rawLink) {
    if (!rawLink) return '';
    let cleanLink = rawLink.split('?')[0];
    cleanLink = cleanLink.replace(/\/$/, '');
    return cleanLink;
  }

  generateMessengerBtn.onclick = () => {
    let rawLink = document.getElementById('messengerLink').value.trim();
    const message = encodeURIComponent(document.getElementById('messengerMessage').value.trim());

    if (!rawLink) {
      alert('ูุฑุฌู ุฅุฏุฎุงู ุฑุงุจุท ููู ููุณุจูู ูุงูู');
      messengerResultP.textContent = '';
      copyMessengerBtn.disabled = true;
      openMessengerBtn.disabled = true;
      iframeContainer.style.display = 'none';
      hideQr(messengerQrCodeImg, downloadMessengerQrBtn);
      return;
    }

    let cleanLink = cleanFacebookLink(rawLink);

    let idOrUsername = '';
    try {
      let urlObj = new URL(cleanLink);
      if (urlObj.pathname === '/' && urlObj.searchParams.has('id')) {
        idOrUsername = urlObj.searchParams.get('id');
      } else {
        let parts = urlObj.pathname.split('/').filter(Boolean);
        idOrUsername = parts.length > 0 ? parts[parts.length - 1] : '';
      }
    } catch {
      idOrUsername = '';
    }

    if (!idOrUsername) {
      alert('ุชุนุฐุฑ ุงุณุชุฎุฑุงุฌ ID ุฃู ุงุณู ุงููุณุชุฎุฏู ูู ุงูุฑุงุจุท');
      messengerResultP.textContent = '';
      copyMessengerBtn.disabled = true;
      openMessengerBtn.disabled = true;
      iframeContainer.style.display = 'none';
      hideQr(messengerQrCodeImg, downloadMessengerQrBtn);
      return;
    }

    let messengerUrl = `https://m.me/${idOrUsername}`;
    if (message) messengerUrl += `?ref=${message}`;

    messengerResultP.textContent = messengerUrl;
    copyMessengerBtn.disabled = false;
    openMessengerBtn.disabled = false;
    iframeContainer.style.display = 'block';
    messengerIframe.src = messengerUrl;

    generateAndDisplayQr(messengerUrl, messengerQrCodeImg, downloadMessengerQrBtn, 'messenger');
  };

  copyMessengerBtn.onclick = () => {
    const text = messengerResultP.textContent;
    if (text) navigator.clipboard.writeText(text);
  };

  openMessengerBtn.onclick = () => {
    const url = messengerResultP.textContent;
    if (url) window.open(url, '_blank');
  };

  document.getElementById('messengerLink').oninput = () => hideQr(messengerQrCodeImg, downloadMessengerQrBtn);
  document.getElementById('messengerMessage').oninput = () => hideQr(messengerQrCodeImg, downloadMessengerQrBtn);


  // ูุธุงุฆู ุชูููุฌุฑุงู (ุชู ุงูุชุนุฏูู ููุง)
  const generateTelegramBtn = document.getElementById('generateTelegram');
  const copyTelegramBtn = document.getElementById('copyTelegram');
  const openTelegramBtn = document.getElementById('openTelegram');
  const telegramLinkP = document.getElementById('telegramLink');

  generateTelegramBtn.onclick = () => {
    const countryCode = document.getElementById('telegramCountryCode').value.trim(); // ููุฏ ุงูุฏููุฉ ุงูุฌุฏูุฏ
    const number = document.getElementById('telegramNumber').value.trim();
    const message = encodeURIComponent(document.getElementById('telegramMessage').value.trim());

    if (!number.match(/^\d+$/)) {
      alert('ูุฑุฌู ุฅุฏุฎุงู ุฑูู ูุงุชู ุชูููุฌุฑุงู ุตุญูุญ (ุจุฏูู ุงูุตูุฑ ูู ุงูุจุฏุงูุฉ).');
      telegramLinkP.textContent = '';
      copyTelegramBtn.disabled = true;
      openTelegramBtn.disabled = true;
      hideQr(telegramQrCodeImg, downloadTelegramQrBtn);
      return;
    }

    // ุจูุงุก ุงูุฑุงุจุท ูุน ููุฏ ุงูุฏููุฉ
    let url = `https://t.me/+${countryCode}${number}`;
    if (message) url += `?text=${message}`;

    telegramLinkP.textContent = url;
    copyTelegramBtn.disabled = false;
    openTelegramBtn.disabled = false;

    generateAndDisplayQr(url, telegramQrCodeImg, downloadTelegramQrBtn, 'telegram');
  };

  copyTelegramBtn.onclick = () => {
    const text = telegramLinkP.textContent;
    if (text) navigator.clipboard.writeText(text);
  };

  openTelegramBtn.onclick = () => {
    const url = telegramLinkP.textContent;
    if (url) window.open(url, '_blank');
  };

  // ุฅุฎูุงุก ุงูู QR ุฅุฐุง ุชู ุชุบููุฑ ุญููู ุงูุฅุฏุฎุงู ูุชููุฌุฑุงู
  document.getElementById('telegramCountryCode').oninput = () => hideQr(telegramQrCodeImg, downloadTelegramQrBtn);
  document.getElementById('telegramNumber').oninput = () => hideQr(telegramQrCodeImg, downloadTelegramQrBtn);
  document.getElementById('telegramMessage').oninput = () => hideQr(telegramQrCodeImg, downloadTelegramQrBtn);


  // ูุธุงุฆู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  const generateEmailBtn = document.getElementById('generateEmail');
  const copyEmailBtn = document.getElementById('copyEmail');
  const openEmailBtn = document.getElementById('openEmail');
  const emailLinkP = document.getElementById('emailLink');

  generateEmailBtn.onclick = () => {
    const email = document.getElementById('emailAddress').value.trim();
    const subject = encodeURIComponent(document.getElementById('emailSubject').value.trim());
    const body = encodeURIComponent(document.getElementById('emailBody').value.trim());

    if (!email) {
      alert('ูุฑุฌู ุฅุฏุฎุงู ุนููุงู ุจุฑูุฏ ุฅููุชุฑููู.');
      emailLinkP.textContent = '';
      copyEmailBtn.disabled = true;
      openEmailBtn.disabled = true;
      hideQr(emailQrCodeImg, downloadEmailQrBtn);
      return;
    }

    if (!email.includes('@') || !email.includes('.')) {
      alert('ูุฑุฌู ุฅุฏุฎุงู ุนููุงู ุจุฑูุฏ ุฅููุชุฑููู ุตุญูุญ.');
      emailLinkP.textContent = '';
      copyEmailBtn.disabled = true;
      openEmailBtn.disabled = true;
      hideQr(emailQrCodeImg, downloadEmailQrBtn);
      return;
    }

    let url = `mailto:${email}`;
    let params = [];
    if (subject) params.push(`subject=${subject}`);
    if (body) params.push(`body=${body}`);

    if (params.length > 0) {
      url += `?${params.join('&')}`;
    }

    emailLinkP.textContent = url;
    copyEmailBtn.disabled = false;
    openEmailBtn.disabled = false;

    generateAndDisplayQr(url, emailQrCodeImg, downloadEmailQrBtn, 'email');
  };

  copyEmailBtn.onclick = () => {
    const text = emailLinkP.textContent;
    if (text) navigator.clipboard.writeText(text);
  };

  openEmailBtn.onclick = () => {
    const url = emailLinkP.textContent;
    if (url) window.open(url, '_blank');
  };

  document.getElementById('emailAddress').oninput = () => hideQr(emailQrCodeImg, downloadEmailQrBtn);
  document.getElementById('emailSubject').oninput = () => hideQr(emailQrCodeImg, downloadEmailQrBtn);
  document.getElementById('emailBody').oninput = () => hideQr(emailQrCodeImg, downloadEmailQrBtn);

</script>
</body>
</html>
